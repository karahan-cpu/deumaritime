{"file_contents":{"client/src/components/CIIRatingDisplay.tsx":{"content":"import { Card } from \"@/components/ui/card\";\n\ninterface CIIRatingDisplayProps {\n  rating: \"A\" | \"B\" | \"C\" | \"D\" | \"E\";\n  attainedCII: number;\n  requiredCII: number;\n}\n\nexport function CIIRatingDisplay({ rating, attainedCII, requiredCII }: CIIRatingDisplayProps) {\n  const ratingColors = {\n    A: \"text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800\",\n    B: \"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800\",\n    C: \"text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800\",\n    D: \"text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800\",\n    E: \"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800\",\n  };\n\n  const ratingDescriptions = {\n    A: \"Major Superior Performance\",\n    B: \"Minor Superior Performance\",\n    C: \"Moderate Performance (Acceptable)\",\n    D: \"Minor Inferior Performance\",\n    E: \"Inferior Performance\",\n  };\n\n  return (\n    <Card className={`p-6 border-2 ${ratingColors[rating]}`} data-testid=\"card-cii-rating\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <div className=\"text-sm font-medium text-muted-foreground mb-1\">CII Rating</div>\n          <div className={`text-6xl font-bold font-mono ${ratingColors[rating]}`}>{rating}</div>\n          <div className=\"text-sm font-medium mt-2\">{ratingDescriptions[rating]}</div>\n        </div>\n        <div className=\"text-right\">\n          <div className=\"text-sm text-muted-foreground\">Attained CII</div>\n          <div className=\"text-2xl font-bold font-mono\">{attainedCII.toFixed(2)}</div>\n          <div className=\"text-sm text-muted-foreground mt-3\">Required CII</div>\n          <div className=\"text-lg font-semibold font-mono\">{requiredCII.toFixed(2)}</div>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","size_bytes":1974},"client/src/components/examples/FuelEUCalculator.tsx":{"content":"import { FuelEUCalculator } from '../FuelEUCalculator'\n\nexport default function FuelEUCalculatorExample() {\n  return (\n    <div className=\"max-w-4xl\">\n      <FuelEUCalculator />\n    </div>\n  )\n}\n","size_bytes":195},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/components/ThemeToggle.tsx":{"content":"import { Moon, Sun } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { useEffect, useState } from \"react\";\n\nexport function ThemeToggle() {\n  const [theme, setTheme] = useState<\"light\" | \"dark\">(\"light\");\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem(\"theme\") as \"light\" | \"dark\" | null;\n    const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n    const initialTheme = savedTheme || (prefersDark ? \"dark\" : \"light\");\n    \n    setTheme(initialTheme);\n    document.documentElement.classList.toggle(\"dark\", initialTheme === \"dark\");\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === \"light\" ? \"dark\" : \"light\";\n    setTheme(newTheme);\n    localStorage.setItem(\"theme\", newTheme);\n    document.documentElement.classList.toggle(\"dark\", newTheme === \"dark\");\n  };\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={toggleTheme}\n      data-testid=\"button-theme-toggle\"\n      className=\"hover-elevate active-elevate-2\"\n    >\n      {theme === \"light\" ? (\n        <Moon className=\"h-5 w-5\" />\n      ) : (\n        <Sun className=\"h-5 w-5\" />\n      )}\n    </Button>\n  );\n}\n","size_bytes":1186},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/EEDICalculator.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { eediInputSchema, fuelTypes, type EEDIInput } from \"@shared/schema\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { FileText } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { calculateEEDI, calculateRequiredEEDI } from \"@/lib/calculations\";\nimport { ComplianceBadge } from \"./ComplianceBadge\";\n\ninterface EEDICalculatorProps {\n  shipType: string;\n  isNewBuild: boolean;\n  yearBuilt: number;\n  onResultCalculated?: (result: { attained: number; required: number; compliant: boolean }) => void;\n}\n\nexport function EEDICalculator({ shipType, isNewBuild, yearBuilt, onResultCalculated }: EEDICalculatorProps) {\n  const [result, setResult] = useState<{\n    attained: number;\n    required: number;\n    compliant: boolean;\n  } | null>(null);\n\n  const form = useForm<EEDIInput>({\n    resolver: zodResolver(eediInputSchema),\n    defaultValues: {\n      mainEnginePower: 0,\n      mainEngineSFC: 190,\n      auxiliaryPower: 0,\n      auxiliarySFC: 215,\n      referenceSpeed: 0,\n      capacity: 0,\n      fuelType: \"HFO\",\n    },\n  });\n\n  const handleCalculate = (data: EEDIInput) => {\n    const attained = calculateEEDI(\n      data.mainEnginePower,\n      data.mainEngineSFC,\n      data.auxiliaryPower,\n      data.auxiliarySFC,\n      data.referenceSpeed,\n      data.capacity,\n      data.fuelType\n    );\n\n    const required = calculateRequiredEEDI(shipType, data.capacity, yearBuilt);\n    const compliant = attained <= required;\n\n    const calculatedResult = { attained, required, compliant };\n    setResult(calculatedResult);\n    if (onResultCalculated) {\n      onResultCalculated(calculatedResult);\n    }\n    console.log(\"EEDI calculated:\", calculatedResult);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card data-testid=\"card-eedi-calculator\">\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 bg-primary/10 rounded-lg\">\n                <FileText className=\"h-5 w-5 text-primary\" />\n              </div>\n              <div>\n                <CardTitle>EEDI Calculator</CardTitle>\n                <CardDescription>Energy Efficiency Design Index for new build ships</CardDescription>\n              </div>\n            </div>\n            <Badge variant=\"secondary\" className=\"text-xs uppercase\">Phase 3: 30% Reduction</Badge>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={form.handleSubmit(handleCalculate)} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"mainEnginePower\">Main Engine Power (kW)</Label>\n                <Input\n                  id=\"mainEnginePower\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"mainEnginePower\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 12500\"\n                  data-testid=\"input-main-engine-power\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"mainEngineSFC\">Main Engine SFC (g/kWh)</Label>\n                <Input\n                  id=\"mainEngineSFC\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"mainEngineSFC\", { valueAsNumber: true })}\n                  placeholder=\"Default: 190\"\n                  data-testid=\"input-main-sfc\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"auxiliaryPower\">Auxiliary Power (kW)</Label>\n                <Input\n                  id=\"auxiliaryPower\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"auxiliaryPower\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 850\"\n                  data-testid=\"input-aux-power\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"auxiliarySFC\">Auxiliary SFC (g/kWh)</Label>\n                <Input\n                  id=\"auxiliarySFC\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"auxiliarySFC\", { valueAsNumber: true })}\n                  placeholder=\"Default: 215\"\n                  data-testid=\"input-aux-sfc\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"referenceSpeed\">Reference Speed (knots)</Label>\n                <Input\n                  id=\"referenceSpeed\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"referenceSpeed\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 14.5\"\n                  data-testid=\"input-reference-speed\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"capacity\">Capacity (DWT)</Label>\n                <Input\n                  id=\"capacity\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"capacity\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 85000\"\n                  data-testid=\"input-capacity\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"fuelType\">Fuel Type</Label>\n                <Select\n                  value={form.watch(\"fuelType\")}\n                  onValueChange={(value) => form.setValue(\"fuelType\", value)}\n                >\n                  <SelectTrigger data-testid=\"select-fuel-type\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {fuelTypes.map((fuel) => (\n                      <SelectItem key={fuel.value} value={fuel.value}>\n                        {fuel.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            <Button type=\"submit\" className=\"w-full\" data-testid=\"button-calculate-eedi\">\n              Calculate EEDI\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n\n      {result && (\n        <Card data-testid=\"card-eedi-results\">\n          <CardHeader>\n            <CardTitle>EEDI Results</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div className=\"space-y-1\">\n                  <div className=\"text-sm text-muted-foreground\">Attained EEDI</div>\n                  <div className=\"text-3xl font-bold font-mono\">{result.attained.toFixed(2)}</div>\n                  <div className=\"text-xs text-muted-foreground\">gCO₂/tonne-nm</div>\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"text-sm text-muted-foreground\">Required EEDI</div>\n                  <div className=\"text-3xl font-bold font-mono\">{result.required.toFixed(2)}</div>\n                  <div className=\"text-xs text-muted-foreground\">gCO₂/tonne-nm</div>\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"text-sm text-muted-foreground\">Compliance Status</div>\n                  <div className=\"mt-2\">\n                    <ComplianceBadge status={result.compliant ? \"compliant\" : \"non-compliant\"} />\n                  </div>\n                  <div className=\"text-xs text-muted-foreground mt-1\">\n                    {result.compliant ? \"Meets Phase 3 requirements\" : \"Does not meet requirements\"}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n","size_bytes":8297},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/lib/calculations.ts":{"content":"import { fuelTypes } from \"@shared/schema\";\n\nexport function getCO2Factor(fuelType: string): number {\n  const fuel = fuelTypes.find(f => f.value === fuelType);\n  return fuel?.cf || 3.114;\n}\n\nexport function calculateEEDI(\n  mainPower: number,\n  mainSFC: number,\n  auxPower: number,\n  auxSFC: number,\n  speed: number,\n  capacity: number,\n  fuelType: string\n): number {\n  const cf = getCO2Factor(fuelType);\n  const mainEmissions = (cf * mainSFC * mainPower * 0.75) / 1000000;\n  const auxEmissions = (cf * auxSFC * auxPower * 0.75) / 1000000;\n  const totalEmissions = mainEmissions + auxEmissions;\n  const transportWork = capacity * speed;\n  return (totalEmissions / transportWork) * 1000000000;\n}\n\nexport function calculateRequiredEEDI(shipType: string, capacity: number, year: number): number {\n  const referencelines: Record<string, { a: number; c: number }> = {\n    \"Bulk Carrier\": { a: 961.79, c: 0.477 },\n    \"Oil Tanker\": { a: 1218.80, c: 0.488 },\n    \"Chemical Tanker\": { a: 1218.80, c: 0.488 },\n    \"LNG Carrier\": { a: 2253.7, c: 0.474 },\n    \"Container Ship\": { a: 174.22, c: 0.201 },\n    \"General Cargo\": { a: 107.48, c: 0.216 },\n    \"RoRo Cargo\": { a: 752.16, c: 0.381 },\n    \"Refrigerated Cargo\": { a: 227.01, c: 0.244 },\n  };\n\n  const ref = referencelines[shipType] || referencelines[\"Bulk Carrier\"];\n  const baseline = ref.a * Math.pow(capacity, -ref.c);\n  \n  let reductionFactor = 0;\n  if (year >= 2025) reductionFactor = 0.30;\n  else if (year >= 2020) reductionFactor = 0.20;\n  else if (year >= 2015) reductionFactor = 0.10;\n  \n  return baseline * (1 - reductionFactor);\n}\n\nexport function calculateEEXI(\n  mainPower: number,\n  mainSFC: number,\n  auxPower: number,\n  auxSFC: number,\n  speed: number,\n  capacity: number,\n  fuelType: string,\n  hasEPL: boolean\n): number {\n  const powerFactor = hasEPL ? 0.83 : 0.75;\n  return calculateEEDI(mainPower, mainSFC, auxPower, auxSFC, speed, capacity, fuelType);\n}\n\nexport function calculateCII(\n  fuelConsumption: number,\n  distance: number,\n  capacity: number,\n  fuelType: string\n): number {\n  const cf = getCO2Factor(fuelType);\n  const co2Emissions = fuelConsumption * cf;\n  const transportWork = capacity * distance;\n  return (co2Emissions / transportWork) * 1000000;\n}\n\nexport function getCIIRating(attainedCII: number, requiredCII: number): string {\n  const ratio = attainedCII / requiredCII;\n  \n  if (ratio <= 0.88) return \"A\";\n  if (ratio <= 0.94) return \"B\";\n  if (ratio <= 1.06) return \"C\";\n  if (ratio <= 1.18) return \"D\";\n  return \"E\";\n}\n\nexport function calculateRequiredCII(shipType: string, capacity: number, year: number): number {\n  const baselines: Record<string, { a: number; c: number }> = {\n    \"Bulk Carrier\": { a: 4745, c: 0.622 },\n    \"Oil Tanker\": { a: 5247, c: 0.610 },\n    \"Container Ship\": { a: 1984, c: 0.489 },\n    \"LNG Carrier\": { a: 9.827, c: 0 },\n    \"General Cargo\": { a: 31948, c: 0.792 },\n  };\n\n  const baseline = baselines[shipType] || baselines[\"Bulk Carrier\"];\n  const baseCII = baseline.a * Math.pow(capacity, -baseline.c);\n  \n  const reductionFactors: Record<number, number> = {\n    2023: 0.05,\n    2024: 0.07,\n    2025: 0.09,\n    2026: 0.11,\n    2027: 0.13,\n    2028: 0.15,\n    2029: 0.17,\n    2030: 0.19,\n  };\n  \n  const reduction = reductionFactors[year] || 0.11;\n  return baseCII * (1 - reduction);\n}\n\nexport function calculateFuelEUCompliance(\n  totalEnergy: number,\n  ghgEmissions: number,\n  year: number\n): { intensity: number; limit: number; penalty: number; compliance: boolean } {\n  const intensity = (ghgEmissions / totalEnergy) * 1000;\n  \n  const baseline = 91.16;\n  const reductionTargets: Record<number, number> = {\n    2025: 0.02, 2026: 0.02,\n    2027: 0.04, 2028: 0.05, 2029: 0.056,\n    2030: 0.06, 2031: 0.08, 2032: 0.10, 2033: 0.12, 2034: 0.135,\n    2035: 0.145, 2036: 0.18, 2037: 0.21, 2038: 0.25, 2039: 0.285,\n    2040: 0.31, 2041: 0.37, 2042: 0.43, 2043: 0.50, 2044: 0.565,\n    2045: 0.62, 2046: 0.68, 2047: 0.73, 2048: 0.77, 2049: 0.785,\n    2050: 0.80,\n  };\n  \n  const reduction = reductionTargets[year] || 0.02;\n  const limit = baseline * (1 - reduction);\n  \n  const compliance = intensity <= limit;\n  const deficit = Math.max(0, intensity - limit);\n  const penaltyRate = 2400;\n  const penalty = (deficit * totalEnergy * penaltyRate) / 1000;\n  \n  return { intensity, limit, penalty, compliance };\n}\n\nexport function calculateEUETS(\n  totalEmissions: number,\n  intraEUEmissions: number,\n  portEmissions: number,\n  carbonPrice: number,\n  year: number\n): { allowancesNeeded: number; cost: number; coverage: number } {\n  const coverageRates: Record<number, number> = {\n    2024: 0.40,\n    2025: 0.70,\n    2026: 1.00,\n  };\n  \n  const coverage = coverageRates[year] || 0.70;\n  \n  const internationalEmissions = totalEmissions - intraEUEmissions - portEmissions;\n  const reportableEmissions = \n    intraEUEmissions + \n    portEmissions + \n    (internationalEmissions * 0.5);\n  \n  const allowancesNeeded = reportableEmissions * coverage;\n  const cost = allowancesNeeded * carbonPrice;\n  \n  return { allowancesNeeded, cost, coverage };\n}\n\nexport function calculateIMOGFI(\n  totalEnergyUsed: number,\n  ghgEmissions: number,\n  year: number\n): {\n  attainedGFI: number;\n  baseTarget: number;\n  directTarget: number;\n  tier1Deficit: number;\n  tier2Deficit: number;\n  surplus: number;\n  tier1Cost: number;\n  tier2Cost: number;\n  rewardCost: number;\n  compliance: 'surplus' | 'tier1' | 'tier2';\n} {\n  const baseline2008 = 93.3;\n  \n  const attainedGFI = (ghgEmissions / totalEnergyUsed) * 1000;\n  \n  const reductionTargets: Record<number, { base: number; direct: number }> = {\n    2028: { base: 0.04, direct: 0.17 },\n    2029: { base: 0.06, direct: 0.21 },\n    2030: { base: 0.08, direct: 0.21 },\n    2031: { base: 0.10, direct: 0.25 },\n    2032: { base: 0.12, direct: 0.29 },\n    2033: { base: 0.15, direct: 0.33 },\n    2034: { base: 0.20, direct: 0.38 },\n    2035: { base: 0.30, direct: 0.43 },\n    2036: { base: 0.35, direct: 0.48 },\n    2037: { base: 0.40, direct: 0.53 },\n    2038: { base: 0.45, direct: 0.58 },\n    2039: { base: 0.55, direct: 0.69 },\n    2040: { base: 0.65, direct: 0.80 },\n  };\n  \n  const targets = year >= 2040 \n    ? reductionTargets[2040] \n    : (reductionTargets[year] || reductionTargets[2028]);\n  const baseTarget = baseline2008 * (1 - targets.base);\n  const directTarget = baseline2008 * (1 - targets.direct);\n  \n  const tier1Price = 100;\n  const tier2Price = 380;\n  \n  let tier1Deficit = 0;\n  let tier2Deficit = 0;\n  let surplus = 0;\n  let compliance: 'surplus' | 'tier1' | 'tier2' = 'surplus';\n  \n  if (attainedGFI <= directTarget) {\n    surplus = ((directTarget - attainedGFI) * totalEnergyUsed) / 1000000;\n    compliance = 'surplus';\n  } else if (attainedGFI <= baseTarget) {\n    tier1Deficit = ((attainedGFI - directTarget) * totalEnergyUsed) / 1000000;\n    compliance = 'tier1';\n  } else {\n    tier2Deficit = ((attainedGFI - baseTarget) * totalEnergyUsed) / 1000000;\n    tier1Deficit = ((baseTarget - directTarget) * totalEnergyUsed) / 1000000;\n    compliance = 'tier2';\n  }\n  \n  const tier1Cost = tier1Deficit * tier1Price;\n  const tier2Cost = tier2Deficit * tier2Price;\n  const rewardCost = 0;\n  \n  return {\n    attainedGFI,\n    baseTarget,\n    directTarget,\n    tier1Deficit,\n    tier2Deficit,\n    surplus,\n    tier1Cost,\n    tier2Cost,\n    rewardCost,\n    compliance,\n  };\n}\n\nexport function calculateShipbuildingCost(\n  deadweight: number,\n  grossTonnage: number,\n  shipType: string,\n  isNewBuild: boolean\n): number {\n  if (!isNewBuild) {\n    return 0;\n  }\n  \n  const baseCostPerDWT: Record<string, number> = {\n    \"Bulk Carrier\": 700,\n    \"Oil Tanker\": 750,\n    \"Chemical Tanker\": 850,\n    \"LNG Carrier\": 1200,\n    \"LPG Carrier\": 900,\n    \"Container Ship\": 950,\n    \"General Cargo\": 650,\n    \"Refrigerated Cargo\": 800,\n    \"RoRo Cargo\": 850,\n    \"RoRo Passenger\": 1100,\n  };\n  \n  const costPerDWT = baseCostPerDWT[shipType] || 800;\n  const baseCost = deadweight * costPerDWT;\n  \n  const complexityFactor = grossTonnage / deadweight;\n  const adjustment = complexityFactor > 1.5 ? 1.1 : 1.0;\n  \n  return baseCost * adjustment;\n}\n\nexport function calculateFuelCost(\n  mainEnginePower: number,\n  auxiliaryPower: number,\n  daysAtSea: number,\n  daysInPort: number,\n  fuelType: string,\n  fuelPrice: number\n): {\n  mainEngineConsumption: number;\n  auxiliaryConsumption: number;\n  totalConsumption: number;\n  totalCost: number;\n} {\n  const mainEngineSFOC = fuelType === \"HFO\" ? 175 : 185;\n  const auxiliarySFOC = 220;\n  \n  const mainEnginePowerAtSea = mainEnginePower * 0.75;\n  const auxiliaryPowerAtSea = auxiliaryPower * 0.5;\n  const auxiliaryPowerInPort = auxiliaryPower * 0.3;\n  \n  const mainEngineConsumption = \n    (mainEnginePowerAtSea * mainEngineSFOC * 24 * daysAtSea) / 1000000;\n  \n  const auxiliaryConsumptionAtSea = \n    (auxiliaryPowerAtSea * auxiliarySFOC * 24 * daysAtSea) / 1000000;\n  \n  const auxiliaryConsumptionInPort = \n    (auxiliaryPowerInPort * auxiliarySFOC * 24 * daysInPort) / 1000000;\n  \n  const auxiliaryConsumption = auxiliaryConsumptionAtSea + auxiliaryConsumptionInPort;\n  const totalConsumption = mainEngineConsumption + auxiliaryConsumption;\n  const totalCost = totalConsumption * fuelPrice;\n  \n  return {\n    mainEngineConsumption,\n    auxiliaryConsumption,\n    totalConsumption,\n    totalCost,\n  };\n}\n\nexport interface OptimizationParameters {\n  annualFuelConsumption: number;\n  distanceTraveled: number;\n  mainEnginePower: number;\n  auxiliaryPower: number;\n  daysAtSea: number;\n  daysInPort: number;\n  fuelType: string;\n  fuelPrice: number;\n}\n\nexport interface OptimizationConstraints {\n  fixedParams: Set<keyof OptimizationParameters>;\n  shipType: string;\n  shipCapacity: number;\n  year: number;\n  totalEnergyUsed?: number;\n  ghgEmissions?: number;\n}\n\nexport interface OptimizationTarget {\n  type: 'cii_rating' | 'minimize_costs' | 'imo_gfi_surplus' | 'zero_fueleu';\n  value?: string;\n}\n\nexport interface OptimizationResult {\n  success: boolean;\n  parameters: OptimizationParameters;\n  improvements: {\n    ciiRating?: string;\n    totalCosts?: number;\n    imoGFIStatus?: string;\n    fuelEUPenalty?: number;\n  };\n  iterations: number;\n}\n\nexport function optimizeParameters(\n  current: OptimizationParameters,\n  target: OptimizationTarget,\n  constraints: OptimizationConstraints\n): OptimizationResult {\n  const maxIterations = 100;\n  let best = { ...current };\n  let iterations = 0;\n  \n  const parameterRanges: Record<keyof OptimizationParameters, { min: number; max: number; step: number }> = {\n    annualFuelConsumption: { min: 1000, max: 20000, step: 50 },\n    distanceTraveled: { min: 20000, max: 150000, step: 500 },\n    mainEnginePower: { min: 2000, max: 20000, step: 250 },\n    auxiliaryPower: { min: 200, max: 1500, step: 25 },\n    daysAtSea: { min: 200, max: 350, step: 2 },\n    daysInPort: { min: 0, max: 100, step: 2 },\n    fuelType: { min: 0, max: 0, step: 0 },\n    fuelPrice: { min: 400, max: 800, step: 5 },\n  };\n  \n  function calculateEnergyAndEmissions(params: OptimizationParameters): { energy: number; emissions: number } {\n    const hoursAtSea = params.daysAtSea * 24;\n    const hoursInPort = params.daysInPort * 24;\n    \n    const totalEnergyUsed = \n      (params.mainEnginePower * 0.75 * hoursAtSea + \n       params.auxiliaryPower * 0.5 * hoursAtSea +\n       params.auxiliaryPower * 0.3 * hoursInPort) * 3.6;\n    \n    const fuelConsumption = \n      (params.mainEnginePower * 0.75 * hoursAtSea * (params.fuelType === \"HFO\" ? 175 : 185) +\n       params.auxiliaryPower * 0.5 * hoursAtSea * 220 +\n       params.auxiliaryPower * 0.3 * hoursInPort * 220) / 1000000;\n    \n    const cfFactor = params.fuelType === \"HFO\" ? 3.114 : \n                     params.fuelType === \"LNG\" ? 2.750 :\n                     params.fuelType === \"Methanol\" ? 1.375 :\n                     params.fuelType === \"Ammonia\" ? 0 : 3.206;\n    \n    const ghgEmissions = fuelConsumption * cfFactor * 1000000000;\n    \n    return { energy: totalEnergyUsed, emissions: ghgEmissions };\n  }\n  \n  function evaluateFitness(params: OptimizationParameters): number {\n    if (target.type === 'cii_rating') {\n      const cii = calculateCII(\n        params.annualFuelConsumption,\n        params.distanceTraveled,\n        constraints.shipCapacity,\n        params.fuelType\n      );\n      const required = calculateRequiredCII(constraints.shipType, constraints.shipCapacity, constraints.year);\n      const rating = getCIIRating(cii, required);\n      const targetRating = target.value || 'A';\n      const ratingOrder = ['A', 'B', 'C', 'D', 'E'];\n      const currentIndex = ratingOrder.indexOf(rating);\n      const targetIndex = ratingOrder.indexOf(targetRating);\n      return -(currentIndex - targetIndex);\n    } else if (target.type === 'minimize_costs') {\n      const fuelCost = calculateFuelCost(\n        params.mainEnginePower,\n        params.auxiliaryPower,\n        params.daysAtSea,\n        params.daysInPort,\n        params.fuelType,\n        params.fuelPrice\n      );\n      return -fuelCost.totalCost;\n    } else if (target.type === 'imo_gfi_surplus') {\n      const { energy, emissions } = calculateEnergyAndEmissions(params);\n      const gfi = calculateIMOGFI(energy, emissions, constraints.year);\n      if (gfi.surplus > 0) return gfi.surplus;\n      if (gfi.tier1Deficit > 0) return -gfi.tier1Deficit;\n      return -gfi.tier2Deficit;\n    } else if (target.type === 'zero_fueleu') {\n      const { energy, emissions } = calculateEnergyAndEmissions(params);\n      const fuelEU = calculateFuelEUCompliance(energy, emissions, constraints.year);\n      return -fuelEU.penalty;\n    }\n    return 0;\n  }\n  \n  let bestFitness = evaluateFitness(best);\n  \n  for (iterations = 0; iterations < maxIterations; iterations++) {\n    let improved = false;\n    \n    for (const param in best) {\n      if (constraints.fixedParams.has(param as keyof OptimizationParameters)) continue;\n      if (param === 'fuelType') continue;\n      \n      const range = parameterRanges[param as keyof OptimizationParameters];\n      if (!range || range.step === 0) continue;\n      \n      const currentValue = best[param as keyof OptimizationParameters] as number;\n      \n      const testIncrease = { ...best, [param]: Math.min(currentValue + range.step, range.max) };\n      const testDecrease = { ...best, [param]: Math.max(currentValue - range.step, range.min) };\n      \n      const increaseFitness = evaluateFitness(testIncrease);\n      const decreaseFitness = evaluateFitness(testDecrease);\n      \n      if (increaseFitness > bestFitness) {\n        best = testIncrease;\n        bestFitness = increaseFitness;\n        improved = true;\n      } else if (decreaseFitness > bestFitness) {\n        best = testDecrease;\n        bestFitness = decreaseFitness;\n        improved = true;\n      }\n    }\n    \n    if (!improved) break;\n  }\n  \n  const fuelCost = calculateFuelCost(\n    best.mainEnginePower,\n    best.auxiliaryPower,\n    best.daysAtSea,\n    best.daysInPort,\n    best.fuelType,\n    best.fuelPrice\n  );\n  \n  const cii = calculateCII(\n    best.annualFuelConsumption,\n    best.distanceTraveled,\n    constraints.shipCapacity,\n    best.fuelType\n  );\n  const required = calculateRequiredCII(constraints.shipType, constraints.shipCapacity, constraints.year);\n  const rating = getCIIRating(cii, required);\n  \n  return {\n    success: iterations < maxIterations,\n    parameters: best,\n    improvements: {\n      ciiRating: rating,\n      totalCosts: fuelCost.totalCost,\n    },\n    iterations,\n  };\n}\n","size_bytes":15398},"client/src/components/IMOGFICalculator.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { imoGFIInputSchema, type IMOGFIInput } from \"@shared/schema\";\nimport { calculateIMOGFI } from \"@/lib/calculations\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\n\nexport function IMOGFICalculator({ onCalculate }: { \n  onCalculate?: (result: ReturnType<typeof calculateIMOGFI>) => void \n}) {\n  const [result, setResult] = useState<ReturnType<typeof calculateIMOGFI> | null>(null);\n\n  const form = useForm<IMOGFIInput>({\n    resolver: zodResolver(imoGFIInputSchema),\n    defaultValues: {\n      totalEnergyUsed: 0,\n      ghgEmissions: 0,\n      year: 2028,\n    },\n  });\n\n  const onSubmit = (data: IMOGFIInput) => {\n    const calculationResult = calculateIMOGFI(\n      data.totalEnergyUsed,\n      data.ghgEmissions,\n      data.year\n    );\n    setResult(calculationResult);\n    onCalculate?.(calculationResult);\n  };\n\n  return (\n    <Card data-testid=\"card-imo-gfi-calculator\">\n      <CardHeader>\n        <CardTitle>IMO GHG Fuel Intensity (GFI) Calculator</CardTitle>\n        <CardDescription>\n          Calculate two-tier GHG pricing penalties (2028-2040). Tier 1: $100/tCO₂eq, Tier 2: $380/tCO₂eq\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            <FormField\n              control={form.control}\n              name=\"totalEnergyUsed\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Total Energy Used (MJ)</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"number\"\n                      placeholder=\"e.g., 404000000\"\n                      data-testid=\"input-total-energy\"\n                      {...field}\n                      onChange={(e) => field.onChange(parseFloat(e.target.value))}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"ghgEmissions\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Total GHG Emissions (gCO₂eq)</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"number\"\n                      placeholder=\"e.g., 36764000000\"\n                      data-testid=\"input-ghg-emissions\"\n                      {...field}\n                      onChange={(e) => field.onChange(parseFloat(e.target.value))}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"year\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Compliance Year</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"number\"\n                      placeholder=\"2028\"\n                      min={2028}\n                      max={2050}\n                      data-testid=\"input-year\"\n                      {...field}\n                      onChange={(e) => field.onChange(parseInt(e.target.value))}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <Button type=\"submit\" className=\"w-full\" data-testid=\"button-calculate-gfi\">\n              Calculate IMO GFI Compliance\n            </Button>\n          </form>\n        </Form>\n\n        {result && (\n          <div className=\"mt-6 space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-lg font-semibold\">Results</h3>\n              <Badge\n                variant={\n                  result.compliance === 'surplus' \n                    ? 'default' \n                    : result.compliance === 'tier1'\n                    ? 'secondary'\n                    : 'destructive'\n                }\n                data-testid=\"badge-compliance-status\"\n              >\n                {result.compliance === 'surplus' \n                  ? 'Surplus' \n                  : result.compliance === 'tier1'\n                  ? 'Tier 1 Deficit'\n                  : 'Tier 2 Deficit'}\n              </Badge>\n            </div>\n\n            <div className=\"grid gap-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Attained GFI</p>\n                  <p className=\"text-2xl font-bold\" data-testid=\"text-attained-gfi\">\n                    {result.attainedGFI.toFixed(2)} gCO₂eq/MJ\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Direct Compliance Target</p>\n                  <p className=\"text-2xl font-bold\" data-testid=\"text-direct-target\">\n                    {result.directTarget.toFixed(2)} gCO₂eq/MJ\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Base Target</p>\n                  <p className=\"text-xl font-semibold\" data-testid=\"text-base-target\">\n                    {result.baseTarget.toFixed(2)} gCO₂eq/MJ\n                  </p>\n                </div>\n                {result.surplus > 0 && (\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Surplus Units</p>\n                    <p className=\"text-xl font-semibold text-green-600\" data-testid=\"text-surplus\">\n                      {result.surplus.toFixed(2)} tCO₂eq\n                    </p>\n                  </div>\n                )}\n              </div>\n\n              {(result.tier1Deficit > 0 || result.tier2Deficit > 0) && (\n                <div className=\"border-t pt-4 space-y-3\">\n                  <h4 className=\"font-semibold\">Penalty Breakdown</h4>\n                  \n                  {result.tier1Deficit > 0 && (\n                    <div className=\"flex justify-between items-center\">\n                      <div>\n                        <p className=\"text-sm font-medium\">Tier 1 Deficit ($100/tCO₂eq)</p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {result.tier1Deficit.toFixed(2)} tCO₂eq\n                        </p>\n                      </div>\n                      <p className=\"text-lg font-bold text-amber-600\" data-testid=\"text-tier1-cost\">\n                        ${result.tier1Cost.toLocaleString()}\n                      </p>\n                    </div>\n                  )}\n\n                  {result.tier2Deficit > 0 && (\n                    <div className=\"flex justify-between items-center\">\n                      <div>\n                        <p className=\"text-sm font-medium\">Tier 2 Deficit ($380/tCO₂eq)</p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {result.tier2Deficit.toFixed(2)} tCO₂eq\n                        </p>\n                      </div>\n                      <p className=\"text-lg font-bold text-destructive\" data-testid=\"text-tier2-cost\">\n                        ${result.tier2Cost.toLocaleString()}\n                      </p>\n                    </div>\n                  )}\n\n                  <div className=\"flex justify-between items-center border-t pt-3\">\n                    <p className=\"font-semibold\">Total IMO GFI Penalty</p>\n                    <p className=\"text-xl font-bold\" data-testid=\"text-total-gfi-penalty\">\n                      ${(result.tier1Cost + result.tier2Cost).toLocaleString()}\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":8358},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/examples/ComplianceBadge.tsx":{"content":"import { ComplianceBadge } from '../ComplianceBadge'\n\nexport default function ComplianceBadgeExample() {\n  return (\n    <div className=\"flex gap-3\">\n      <ComplianceBadge status=\"compliant\" />\n      <ComplianceBadge status=\"warning\" />\n      <ComplianceBadge status=\"non-compliant\" />\n    </div>\n  )\n}\n","size_bytes":303},"client/src/pages/Calculator.tsx":{"content":"import { useState } from \"react\";\nimport { Link } from \"wouter\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { ShipInfoForm } from \"@/components/ShipInfoForm\";\nimport { EEDICalculator } from \"@/components/EEDICalculator\";\nimport { CIICalculator } from \"@/components/CIICalculator\";\nimport { FuelEUCalculator } from \"@/components/FuelEUCalculator\";\nimport { EUETSCalculator } from \"@/components/EUETSCalculator\";\nimport { IMOGFICalculator } from \"@/components/IMOGFICalculator\";\nimport { ShipbuildingCostCalculator } from \"@/components/ShipbuildingCostCalculator\";\nimport { FuelCostCalculator } from \"@/components/FuelCostCalculator\";\nimport { OptimizationPanel } from \"@/components/OptimizationPanel\";\nimport { CostSummaryCard } from \"@/components/CostSummaryCard\";\nimport { ThemeToggle } from \"@/components/ThemeToggle\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Anchor, FileText, TrendingDown, Euro, DollarSign, BarChart3, Ship, Fuel, Globe, Target } from \"lucide-react\";\nimport { CIIRatingDisplay } from \"@/components/CIIRatingDisplay\";\nimport { ComplianceBadge } from \"@/components/ComplianceBadge\";\nimport { GHGIntensityChart } from \"@/components/GHGIntensityChart\";\nimport type { ShipInfo } from \"@shared/schema\";\nimport { calculateIMOGFI, calculateFuelCost, calculateCII, calculateRequiredCII, getCIIRating, type OptimizationParameters } from \"@/lib/calculations\";\n\ninterface EEDIResult {\n  attained: number;\n  required: number;\n  compliant: boolean;\n}\n\ninterface CIIResult {\n  attained: number;\n  required: number;\n  rating: \"A\" | \"B\" | \"C\" | \"D\" | \"E\";\n}\n\ninterface FuelEUResult {\n  intensity: number;\n  limit: number;\n  penalty: number;\n  compliance: boolean;\n}\n\ninterface EUETSResult {\n  allowancesNeeded: number;\n  cost: number;\n  coverage: number;\n}\n\ntype IMOGFIResult = ReturnType<typeof calculateIMOGFI>;\ntype FuelCostResult = ReturnType<typeof calculateFuelCost>;\n\nexport default function Calculator() {\n  const [shipInfo, setShipInfo] = useState<ShipInfo | null>(null);\n  const [activeTab, setActiveTab] = useState(\"ship-info\");\n  const [eediResult, setEediResult] = useState<EEDIResult | null>(null);\n  const [ciiResult, setCiiResult] = useState<CIIResult | null>(null);\n  const [fuelEUResult, setFuelEUResult] = useState<FuelEUResult | null>(null);\n  const [euETSResult, setEuETSResult] = useState<EUETSResult | null>(null);\n  const [imoGFIResult, setImoGFIResult] = useState<IMOGFIResult | null>(null);\n  const [shipbuildingCost, setShipbuildingCost] = useState<number>(0);\n  const [fuelCostResult, setFuelCostResult] = useState<FuelCostResult | null>(null);\n  const [optimizationParams, setOptimizationParams] = useState<OptimizationParameters>({\n    annualFuelConsumption: 5000,\n    distanceTraveled: 70000,\n    mainEnginePower: 10000,\n    auxiliaryPower: 500,\n    daysAtSea: 300,\n    daysInPort: 50,\n    fuelType: \"HFO\",\n    fuelPrice: 550,\n  });\n\n  const handleShipInfoSubmit = (data: ShipInfo) => {\n    setShipInfo(data);\n    setActiveTab(data.isNewBuild ? \"eedi\" : \"cii\");\n  };\n\n  const handleApplyOptimization = (params: OptimizationParameters) => {\n    setOptimizationParams(params);\n    \n    if (shipInfo) {\n      const attainedCII = calculateCII(\n        params.annualFuelConsumption,\n        params.distanceTraveled,\n        shipInfo.deadweight,\n        params.fuelType\n      );\n      const requiredCII = calculateRequiredCII(shipInfo.shipType, shipInfo.deadweight, new Date().getFullYear());\n      const rating = getCIIRating(attainedCII, requiredCII) as \"A\" | \"B\" | \"C\" | \"D\" | \"E\";\n      \n      setCiiResult({ attained: attainedCII, required: requiredCII, rating });\n      \n      const fuelCostResult = calculateFuelCost(\n        params.mainEnginePower,\n        params.auxiliaryPower,\n        params.daysAtSea,\n        params.daysInPort,\n        params.fuelType,\n        params.fuelPrice\n      );\n      setFuelCostResult(fuelCostResult);\n    }\n    \n    setActiveTab(\"summary\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <header className=\"sticky top-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"container mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 bg-primary/10 rounded-lg\">\n                <Anchor className=\"h-6 w-6 text-primary\" />\n              </div>\n              <div>\n                <h1 className=\"text-xl font-bold\">Maritime Emissions Calculator</h1>\n                <p className=\"text-sm text-muted-foreground\">EEDI · EEXI · CII · FuelEU · EU ETS · GFI</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <Link href=\"/fleet\">\n                <Button variant=\"outline\" data-testid=\"button-fleet-nav\">\n                  <Ship className=\"h-4 w-4\" />\n                  Fleet\n                </Button>\n              </Link>\n              <ThemeToggle />\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"container mx-auto px-4 py-8 max-w-7xl\">\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-3 lg:grid-cols-11 gap-2\">\n            <TabsTrigger value=\"ship-info\" className=\"gap-2\" data-testid=\"tab-ship-info\">\n              <Anchor className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">Ship Info</span>\n            </TabsTrigger>\n            {shipInfo?.isNewBuild && (\n              <TabsTrigger value=\"eedi\" className=\"gap-2\" data-testid=\"tab-eedi\">\n                <FileText className=\"h-4 w-4\" />\n                <span className=\"hidden sm:inline\">EEDI</span>\n              </TabsTrigger>\n            )}\n            <TabsTrigger value=\"cii\" className=\"gap-2\" disabled={!shipInfo} data-testid=\"tab-cii\">\n              <TrendingDown className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">CII</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"fueleu\" className=\"gap-2\" disabled={!shipInfo} data-testid=\"tab-fueleu\">\n              <Euro className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">FuelEU</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"euets\" className=\"gap-2\" disabled={!shipInfo} data-testid=\"tab-euets\">\n              <DollarSign className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">EU ETS</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"imogfi\" className=\"gap-2\" disabled={!shipInfo} data-testid=\"tab-imogfi\">\n              <Globe className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">IMO GFI</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"costs\" className=\"gap-2\" disabled={!shipInfo} data-testid=\"tab-costs\">\n              <Ship className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">Costs</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"optimize\" className=\"gap-2\" disabled={!shipInfo} data-testid=\"tab-optimize\">\n              <Target className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">Optimize</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"summary\" className=\"gap-2\" disabled={!shipInfo} data-testid=\"tab-summary\">\n              <BarChart3 className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">Summary</span>\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"ship-info\" className=\"space-y-6\">\n            <ShipInfoForm onSubmit={handleShipInfoSubmit} defaultValues={shipInfo || undefined} />\n            \n            {!shipInfo && (\n              <Card>\n                <CardHeader>\n                  <CardTitle>Welcome to the Maritime Emissions Calculator</CardTitle>\n                  <CardDescription>\n                    Calculate compliance with all major maritime emission regulations\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div className=\"p-4 border rounded-lg\">\n                      <h3 className=\"font-semibold mb-2\">EEDI / EEXI</h3>\n                      <p className=\"text-sm text-muted-foreground\">\n                        Energy efficiency design index for new builds and existing ships\n                      </p>\n                    </div>\n                    <div className=\"p-4 border rounded-lg\">\n                      <h3 className=\"font-semibold mb-2\">CII Rating</h3>\n                      <p className=\"text-sm text-muted-foreground\">\n                        Annual carbon intensity indicator with A-E rating system\n                      </p>\n                    </div>\n                    <div className=\"p-4 border rounded-lg\">\n                      <h3 className=\"font-semibold mb-2\">FuelEU Maritime</h3>\n                      <p className=\"text-sm text-muted-foreground\">\n                        GHG intensity limits and penalty calculations for EU operations\n                      </p>\n                    </div>\n                    <div className=\"p-4 border rounded-lg\">\n                      <h3 className=\"font-semibold mb-2\">EU ETS</h3>\n                      <p className=\"text-sm text-muted-foreground\">\n                        Emissions trading system allowance costs for EU ports\n                      </p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n          </TabsContent>\n\n          {shipInfo?.isNewBuild && (\n            <TabsContent value=\"eedi\">\n              <EEDICalculator\n                shipType={shipInfo.shipType}\n                isNewBuild={shipInfo.isNewBuild}\n                yearBuilt={shipInfo.yearBuilt}\n                onResultCalculated={setEediResult}\n              />\n            </TabsContent>\n          )}\n\n          <TabsContent value=\"cii\">\n            {shipInfo && <CIICalculator shipType={shipInfo.shipType} onResultCalculated={setCiiResult} />}\n          </TabsContent>\n\n          <TabsContent value=\"fueleu\">\n            <FuelEUCalculator onResultCalculated={setFuelEUResult} />\n          </TabsContent>\n\n          <TabsContent value=\"euets\">\n            <EUETSCalculator onResultCalculated={setEuETSResult} />\n          </TabsContent>\n\n          <TabsContent value=\"imogfi\">\n            <IMOGFICalculator onCalculate={setImoGFIResult} />\n          </TabsContent>\n\n          <TabsContent value=\"costs\">\n            <div className=\"grid gap-6\">\n              {shipInfo && (\n                <ShipbuildingCostCalculator onCalculate={setShipbuildingCost} />\n              )}\n              <FuelCostCalculator onCalculate={setFuelCostResult} />\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"optimize\">\n            {shipInfo && (\n              <OptimizationPanel\n                shipType={shipInfo.shipType}\n                shipCapacity={shipInfo.deadweight}\n                year={new Date().getFullYear()}\n                currentParameters={optimizationParams}\n                onApply={handleApplyOptimization}\n              />\n            )}\n          </TabsContent>\n\n          <TabsContent value=\"summary\">\n            <div className=\"space-y-6\">\n              <GHGIntensityChart attainedIntensity={fuelEUResult?.intensity} />\n              \n              <Card>\n                <CardHeader>\n                  <CardTitle>Compliance Summary</CardTitle>\n                  <CardDescription>\n                    Overview of all regulatory calculations for {shipInfo?.shipName}\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-6\">\n                    {/* Ship Info Summary */}\n                    {shipInfo && (\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 pb-4 border-b\">\n                        <div>\n                          <div className=\"text-sm text-muted-foreground\">Ship Type</div>\n                          <div className=\"font-semibold\">{shipInfo.shipType}</div>\n                        </div>\n                        <div>\n                          <div className=\"text-sm text-muted-foreground\">Deadweight</div>\n                          <div className=\"font-semibold font-mono\">{shipInfo.deadweight.toLocaleString()} DWT</div>\n                        </div>\n                        <div>\n                          <div className=\"text-sm text-muted-foreground\">Gross Tonnage</div>\n                          <div className=\"font-semibold font-mono\">{shipInfo.grossTonnage.toLocaleString()} GT</div>\n                        </div>\n                        <div>\n                          <div className=\"text-sm text-muted-foreground\">Year Built</div>\n                          <div className=\"font-semibold font-mono\">{shipInfo.yearBuilt}</div>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* EEDI Results */}\n                    {eediResult && (\n                      <div className=\"space-y-2\">\n                        <h3 className=\"font-semibold text-lg\">EEDI (Energy Efficiency Design Index)</h3>\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                          <div>\n                            <div className=\"text-sm text-muted-foreground\">Attained EEDI</div>\n                            <div className=\"text-xl font-bold font-mono\">{eediResult.attained.toFixed(2)}</div>\n                            <div className=\"text-xs text-muted-foreground\">gCO₂/tonne-nm</div>\n                          </div>\n                          <div>\n                            <div className=\"text-sm text-muted-foreground\">Required EEDI</div>\n                            <div className=\"text-xl font-bold font-mono\">{eediResult.required.toFixed(2)}</div>\n                            <div className=\"text-xs text-muted-foreground\">gCO₂/tonne-nm</div>\n                          </div>\n                          <div>\n                            <div className=\"text-sm text-muted-foreground\">Status</div>\n                            <div className=\"mt-1\">\n                              <ComplianceBadge status={eediResult.compliant ? \"compliant\" : \"non-compliant\"} />\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* CII Results */}\n                    {ciiResult && (\n                      <div className=\"space-y-2\">\n                        <h3 className=\"font-semibold text-lg\">CII (Carbon Intensity Indicator)</h3>\n                        <CIIRatingDisplay\n                          rating={ciiResult.rating}\n                          attainedCII={ciiResult.attained}\n                          requiredCII={ciiResult.required}\n                        />\n                      </div>\n                    )}\n\n                    {/* FuelEU Results */}\n                    {fuelEUResult && (\n                      <div className=\"space-y-2\">\n                        <h3 className=\"font-semibold text-lg\">FuelEU Maritime</h3>\n                        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                          <div>\n                            <div className=\"text-sm text-muted-foreground\">GHG Intensity</div>\n                            <div className=\"text-xl font-bold font-mono\">{fuelEUResult.intensity.toFixed(2)}</div>\n                            <div className=\"text-xs text-muted-foreground\">gCO₂eq/MJ</div>\n                          </div>\n                          <div>\n                            <div className=\"text-sm text-muted-foreground\">Required Limit</div>\n                            <div className=\"text-xl font-bold font-mono\">{fuelEUResult.limit.toFixed(2)}</div>\n                            <div className=\"text-xs text-muted-foreground\">gCO₂eq/MJ</div>\n                          </div>\n                          <div>\n                            <div className=\"text-sm text-muted-foreground\">Penalty</div>\n                            <div className=\"text-xl font-bold font-mono text-destructive\">\n                              €{fuelEUResult.penalty.toLocaleString(undefined, { maximumFractionDigits: 0 })}\n                            </div>\n                          </div>\n                          <div>\n                            <div className=\"text-sm text-muted-foreground\">Status</div>\n                            <div className=\"mt-1\">\n                              <ComplianceBadge status={fuelEUResult.compliance ? \"compliant\" : \"non-compliant\"} />\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* EU ETS Results */}\n                    {euETSResult && (\n                      <div className=\"space-y-2\">\n                        <h3 className=\"font-semibold text-lg\">EU ETS (Emissions Trading System)</h3>\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                          <div>\n                            <div className=\"text-sm text-muted-foreground\">Allowances Needed</div>\n                            <div className=\"text-xl font-bold font-mono\">\n                              {euETSResult.allowancesNeeded.toLocaleString(undefined, { maximumFractionDigits: 0 })}\n                            </div>\n                            <div className=\"text-xs text-muted-foreground\">tonnes CO₂</div>\n                          </div>\n                          <div>\n                            <div className=\"text-sm text-muted-foreground\">Annual Cost</div>\n                            <div className=\"text-xl font-bold font-mono text-destructive\">\n                              €{euETSResult.cost.toLocaleString(undefined, { maximumFractionDigits: 0 })}\n                            </div>\n                          </div>\n                          <div>\n                            <div className=\"text-sm text-muted-foreground\">Coverage</div>\n                            <div className=\"text-xl font-bold font-mono\">{(euETSResult.coverage * 100).toFixed(0)}%</div>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {!eediResult && !ciiResult && !fuelEUResult && !euETSResult && (\n                      <div className=\"text-center py-12 text-muted-foreground\">\n                        Complete calculations in each tab to see the summary\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n\n              {(euETSResult || fuelEUResult || ciiResult || imoGFIResult || shipbuildingCost || fuelCostResult) && (\n                <CostSummaryCard\n                  shipName={shipInfo?.shipName}\n                  complianceYear={2025}\n                  totalFuelEnergy={fuelCostResult ? fuelCostResult.totalConsumption * 41000 : 0}\n                  costs={{\n                    shipbuildingCosts: shipbuildingCost,\n                    fuelCosts: fuelCostResult ? fuelCostResult.totalCost : 0,\n                    imoGFITier1Costs: imoGFIResult ? imoGFIResult.tier1Cost : 0,\n                    imoGFITier2Costs: imoGFIResult ? imoGFIResult.tier2Cost : 0,\n                    imoGFIRewardCosts: imoGFIResult ? imoGFIResult.rewardCost : 0,\n                    ciiCosts: 0,\n                    fuelEUMaritimeCosts: fuelEUResult ? fuelEUResult.penalty : 0,\n                    otherCosts: euETSResult ? euETSResult.cost : 0,\n                  }}\n                />\n              )}\n            </div>\n          </TabsContent>\n        </Tabs>\n      </main>\n    </div>\n  );\n}\n","size_bytes":20081},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/examples/EEDICalculator.tsx":{"content":"import { EEDICalculator } from '../EEDICalculator'\n\nexport default function EEDICalculatorExample() {\n  return (\n    <div className=\"max-w-4xl\">\n      <EEDICalculator\n        shipType=\"Bulk Carrier\"\n        isNewBuild={true}\n        yearBuilt={2025}\n      />\n    </div>\n  )\n}\n","size_bytes":276},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"shared/schema.ts":{"content":"import { z } from \"zod\";\n\nexport const shipTypes = [\n  \"Bulk Carrier\",\n  \"Oil Tanker\",\n  \"Chemical Tanker\",\n  \"LNG Carrier\",\n  \"LPG Carrier\",\n  \"Container Ship\",\n  \"General Cargo\",\n  \"Refrigerated Cargo\",\n  \"RoRo Cargo\",\n  \"RoRo Passenger\",\n] as const;\n\nexport const fuelTypes = [\n  { value: \"HFO\", label: \"Heavy Fuel Oil (HFO)\", cf: 3.114 },\n  { value: \"MDO\", label: \"Marine Diesel Oil (MDO)\", cf: 3.206 },\n  { value: \"MGO\", label: \"Marine Gas Oil (MGO)\", cf: 3.206 },\n  { value: \"LNG\", label: \"Liquefied Natural Gas (LNG)\", cf: 2.750 },\n  { value: \"Methanol\", label: \"Methanol\", cf: 1.375 },\n  { value: \"Ammonia\", label: \"Ammonia\", cf: 0 },\n  { value: \"LPG\", label: \"Liquefied Petroleum Gas (LPG)\", cf: 3.000 },\n] as const;\n\nexport const shipInfoSchema = z.object({\n  shipName: z.string().min(1, \"Ship name is required\"),\n  shipType: z.enum(shipTypes),\n  deadweight: z.number().positive(\"Deadweight must be positive\"),\n  grossTonnage: z.number().positive(\"Gross tonnage must be positive\"),\n  yearBuilt: z.number().min(1900).max(2030),\n  isNewBuild: z.boolean(),\n});\n\nexport const eediInputSchema = z.object({\n  mainEnginePower: z.number().positive(\"Main engine power must be positive\"),\n  mainEngineSFC: z.number().positive(\"SFC must be positive\"),\n  auxiliaryPower: z.number().positive(\"Auxiliary power must be positive\"),\n  auxiliarySFC: z.number().positive(\"Auxiliary SFC must be positive\"),\n  referenceSpeed: z.number().positive(\"Reference speed must be positive\"),\n  capacity: z.number().positive(\"Capacity must be positive\"),\n  fuelType: z.string(),\n});\n\nexport const eexiInputSchema = z.object({\n  mainEnginePower: z.number().positive(),\n  mainEngineSFC: z.number().positive(),\n  auxiliaryPower: z.number().positive(),\n  auxiliarySFC: z.number().positive(),\n  speed: z.number().positive(),\n  capacity: z.number().positive(),\n  fuelType: z.string(),\n  hasEPL: z.boolean(),\n});\n\nexport const ciiInputSchema = z.object({\n  annualFuelConsumption: z.number().positive(),\n  distanceTraveled: z.number().positive(),\n  capacity: z.number().positive(),\n  fuelType: z.string(),\n  year: z.number().min(2023).max(2030),\n});\n\nexport const fuelEUInputSchema = z.object({\n  totalEnergyUsed: z.number().positive(),\n  ghgEmissions: z.number().positive(),\n  euPortCalls: z.number().int().positive(),\n  intraEUVoyages: z.number().int().nonnegative(),\n  year: z.number().min(2025).max(2050),\n});\n\nexport const euETSInputSchema = z.object({\n  totalCO2Emissions: z.number().positive(),\n  intraEUEmissions: z.number().nonnegative(),\n  euPortEmissions: z.number().nonnegative(),\n  carbonPrice: z.number().positive(),\n  year: z.number().min(2024).max(2026),\n});\n\nexport const imoGFIInputSchema = z.object({\n  totalEnergyUsed: z.number().positive(\"Total energy must be positive\"),\n  ghgEmissions: z.number().positive(\"GHG emissions must be positive\"),\n  year: z.number().min(2028).max(2050),\n});\n\nexport const shipbuildingCostInputSchema = z.object({\n  deadweight: z.number().positive(\"Deadweight must be positive\"),\n  grossTonnage: z.number().positive(\"Gross tonnage must be positive\"),\n  shipType: z.enum(shipTypes),\n  isNewBuild: z.boolean(),\n});\n\nexport const fuelCostInputSchema = z.object({\n  mainEnginePower: z.number().positive(\"Main engine power must be positive\"),\n  auxiliaryPower: z.number().positive(\"Auxiliary power must be positive\"),\n  daysAtSea: z.number().positive(\"Days at sea must be positive\"),\n  daysInPort: z.number().nonnegative(\"Days in port must be non-negative\"),\n  fuelType: z.string(),\n  fuelPrice: z.number().positive(\"Fuel price must be positive\"),\n});\n\nexport const fleetVesselSchema = z.object({\n  id: z.string(),\n  vesselName: z.string().min(1, \"Vessel name is required\"),\n  \n  // Ship Info\n  type: z.enum(shipTypes).optional(),\n  dwt: z.number().positive(\"DWT must be positive\").optional(),\n  grossTonnage: z.number().positive(\"Gross tonnage must be positive\").optional(),\n  buildYear: z.number().min(1900).max(2030).optional(),\n  isNewBuild: z.boolean().optional(),\n  \n  // Operational Parameters\n  annualFuelConsumption: z.number().positive().optional(),\n  distanceTraveled: z.number().positive().optional(),\n  mainEnginePower: z.number().positive().optional(),\n  mainEngineSFC: z.number().positive().optional(),\n  auxiliaryPower: z.number().positive().optional(),\n  auxiliarySFC: z.number().positive().optional(),\n  daysAtSea: z.number().positive().optional(),\n  daysInPort: z.number().nonnegative().optional(),\n  fuelType: z.string().optional(),\n  fuelPrice: z.number().positive().optional(),\n  referenceSpeed: z.number().positive().optional(),\n  capacity: z.number().positive().optional(),\n  hasEPL: z.boolean().optional(),\n  year: z.number().min(2023).max(2050).optional(),\n  \n  // Calculated Results (computed automatically)\n  eexi: z.number().optional(),\n  ciiRating: z.enum([\"A\", \"B\", \"C\", \"D\", \"E\"]).optional(),\n  ciiValue: z.number().optional(),\n  fuelEUStatus: z.string().optional(),\n  euETSCost: z.number().optional(),\n  imoGFICost: z.number().optional(),\n  fuelCost: z.number().optional(),\n  totalCost: z.number().optional(),\n});\n\nexport type ShipInfo = z.infer<typeof shipInfoSchema>;\nexport type EEDIInput = z.infer<typeof eediInputSchema>;\nexport type EEXIInput = z.infer<typeof eexiInputSchema>;\nexport type CIIInput = z.infer<typeof ciiInputSchema>;\nexport type FuelEUInput = z.infer<typeof fuelEUInputSchema>;\nexport type EUETSInput = z.infer<typeof euETSInputSchema>;\nexport type IMOGFIInput = z.infer<typeof imoGFIInputSchema>;\nexport type ShipbuildingCostInput = z.infer<typeof shipbuildingCostInputSchema>;\nexport type FuelCostInput = z.infer<typeof fuelCostInputSchema>;\nexport type FleetVessel = z.infer<typeof fleetVesselSchema>;\n","size_bytes":5675},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"replit.md":{"content":"# Maritime Emissions Calculator\n\n## Overview\n\nA comprehensive web application for calculating and managing maritime regulatory compliance across multiple environmental frameworks. The platform enables ship owners and operators to assess vessel compliance with EEDI (Energy Efficiency Design Index), EEXI (Energy Efficiency Existing Ship Index), CII (Carbon Intensity Indicator), FuelEU Maritime, EU ETS (Emissions Trading System), and GHG Fuel Intensity regulations.\n\nThe application provides detailed calculation engines for each regulatory framework, cost analysis tools for compliance penalties, and visualization components for tracking emissions trajectories against regulatory limits. It's designed as a precision-first tool that prioritizes data accuracy and calculation transparency for professional maritime operations.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework**: React 18 with TypeScript in a Single Page Application (SPA) pattern\n\n**Routing**: Wouter for lightweight client-side routing (currently single-route with Calculator as the main page)\n\n**State Management**: \n- React Hook Form for complex form state with Zod validation\n- TanStack Query (React Query) for server state management (configured but minimal API integration currently)\n- Local component state with useState for calculator results and UI interactions\n\n**UI Component Library**: shadcn/ui components built on Radix UI primitives with Tailwind CSS styling. The design system follows a \"New York\" style variant with custom color schemes for light/dark modes. Components are highly customizable with class-variance-authority for variant management.\n\n**Design System**:\n- Material Design principles adapted for enterprise data applications\n- Custom spacing scale using Tailwind units (3, 4, 6, 8, 12)\n- Typography: Inter for general UI, JetBrains Mono for numerical displays\n- Color system using HSL with CSS custom properties for theme switching\n- Elevation system with hover/active states (`hover-elevate`, `active-elevate-2`)\n\n**Form Validation**: Zod schemas defined in shared layer for runtime validation, integrated with React Hook Form via @hookform/resolvers\n\n**Calculation Logic**: Client-side TypeScript functions in `lib/calculations.ts` implementing:\n- EEDI/EEXI calculations using ship type-specific reference lines\n- CII rating system with A-E grades based on attained vs required values\n- FuelEU Maritime GHG intensity calculations with yearly reduction targets\n- EU ETS allowance calculations with progressive coverage percentages\n- IMO GFI (GHG Fuel Intensity) two-tier pricing system ($100 Tier 1, $380 Tier 2 per tCO₂eq) for 2028-2050\n- Shipbuilding cost parametric estimation based on DWT and vessel type ($650-$1200 per DWT)\n- Fuel cost calculations using SFOC method (175-185 g/kWh main, 220 g/kWh auxiliary)\n- CO2 emission factors for various fuel types (HFO, MDO, LNG, Methanol, etc.)\n\n**Auto-Optimization Feature**: AI-powered parameter optimization system (`components/OptimizationPanel.tsx`):\n- Hill-climbing optimization algorithm with dynamic energy/emissions recalculation\n- Six optimization targets: Achieve CII Rating A/B/C, Minimize Total Costs, IMO GFI Surplus, Zero FuelEU Penalty\n- Seven adjustable parameters with lock/unlock functionality: Annual Fuel Consumption (1,000-20,000 MT), Distance Traveled (20,000-150,000 NM), Main Engine Power (2,000-20,000 kW), Auxiliary Power (200-1,500 kW), Days at Sea (200-350), Days in Port (0-100), Fuel Price ($400-800/MT)\n- Synchronized parameter ranges between UI sliders and optimization algorithm (matching min/max/step values)\n- Optimization results display with iteration count, target achievement status, and parameter comparison (current vs optimized)\n- Apply functionality that updates all calculator results (CII, fuel costs) and navigates to summary view\n- Intelligent early stopping: returns immediately with 0 iterations when target is already met or exceeded\n\n### Backend Architecture\n\n**Server Framework**: Express.js with TypeScript running on Node.js\n\n**Development Setup**: Vite dev server in middleware mode for HMR and fast development experience\n\n**API Structure**: RESTful endpoints (currently minimal scaffolding in `server/routes.ts`)\n\n**Storage Interface**: Abstracted storage layer with in-memory implementation (`MemStorage`) designed for future database integration. Interface defined in `server/storage.ts` with CRUD methods for user management.\n\n**Build Process**: \n- Client: Vite bundling to `dist/public`\n- Server: esbuild bundling to `dist/index.js` with ESM output\n\n### Data Storage Solutions\n\n**Current Implementation**: In-memory storage using JavaScript Maps for user data (development/demo mode)\n\n**Planned Database**: PostgreSQL via Neon serverless driver configured in `drizzle.config.ts`\n\n**ORM**: Drizzle ORM with schema definitions in `shared/schema.ts`\n- Zod schemas define data shapes and validation rules\n- Ship types, fuel types, and input schemas for each regulatory calculator\n- Type-safe database operations through Drizzle-Zod integration\n\n**Schema Structure**:\n- Ship information (name, type, deadweight, gross tonnage, build year)\n- Calculator-specific inputs (EEDI, EEXI, CII, FuelEU, EU ETS, IMO GFI, Shipbuilding Cost, Fuel Cost)\n- Fuel type configurations with CO2 conversion factors\n- Cost breakdown models for regulatory compliance (Tier 1/2 penalties, shipbuilding, fuel costs)\n\n**Migration Strategy**: Drizzle Kit for schema migrations to `./migrations` directory\n\n### Authentication and Authorization\n\n**Current State**: Basic session scaffolding present but not implemented\n\n**Session Management**: connect-pg-simple configured for PostgreSQL-backed sessions (not yet active)\n\n**User Model**: Simple user schema with id, username fields defined in shared schema\n\n### External Dependencies\n\n**UI Component System**:\n- Radix UI primitives (@radix-ui/*) - 20+ component primitives for accessible UI\n- shadcn/ui configuration for component generation\n- Tailwind CSS for utility-first styling\n- class-variance-authority for component variant management\n\n**Charts and Visualization**:\n- Recharts for data visualization (GHG intensity trajectory chart)\n- Custom chart components wrapping Recharts primitives\n\n**Form Management**:\n- React Hook Form for complex form state\n- @hookform/resolvers for Zod integration\n\n**Development Tools**:\n- Vite with React plugin for build and dev server\n- TypeScript for type safety across client/server/shared code\n- esbuild for server bundling in production\n\n**Fonts**:\n- Google Fonts (Inter, JetBrains Mono) loaded from CDN\n\n**Database** (configured but not active):\n- @neondatabase/serverless for PostgreSQL connection\n- Drizzle ORM for type-safe database queries\n\n**Key Libraries**:\n- date-fns for date manipulation\n- clsx + tailwind-merge for className composition\n- nanoid for unique ID generation\n- wouter for routing\n\n**Replit-Specific**:\n- @replit/vite-plugin-runtime-error-modal for error overlays\n- @replit/vite-plugin-cartographer for development insights\n- @replit/vite-plugin-dev-banner for development mode indicator","size_bytes":7178},"client/src/components/FuelCostCalculator.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { fuelCostInputSchema, type FuelCostInput, fuelTypes } from \"@shared/schema\";\nimport { calculateFuelCost } from \"@/lib/calculations\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\n\nexport function FuelCostCalculator({ onCalculate }: { \n  onCalculate?: (result: ReturnType<typeof calculateFuelCost>) => void \n}) {\n  const [result, setResult] = useState<ReturnType<typeof calculateFuelCost> | null>(null);\n\n  const form = useForm<FuelCostInput>({\n    resolver: zodResolver(fuelCostInputSchema),\n    defaultValues: {\n      mainEnginePower: 0,\n      auxiliaryPower: 0,\n      daysAtSea: 0,\n      daysInPort: 0,\n      fuelType: \"HFO\",\n      fuelPrice: 550,\n    },\n  });\n\n  const onSubmit = (data: FuelCostInput) => {\n    const calculationResult = calculateFuelCost(\n      data.mainEnginePower,\n      data.auxiliaryPower,\n      data.daysAtSea,\n      data.daysInPort,\n      data.fuelType,\n      data.fuelPrice\n    );\n    setResult(calculationResult);\n    onCalculate?.(calculationResult);\n  };\n\n  return (\n    <Card data-testid=\"card-fuel-cost-calculator\">\n      <CardHeader>\n        <CardTitle>Annual Fuel Cost Calculator</CardTitle>\n        <CardDescription>\n          Calculate annual fuel costs using SFOC-based consumption method\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            <FormField\n              control={form.control}\n              name=\"mainEnginePower\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Main Engine Power (kW MCR)</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"number\"\n                      placeholder=\"e.g., 9930\"\n                      data-testid=\"input-main-engine-power\"\n                      {...field}\n                      onChange={(e) => field.onChange(parseFloat(e.target.value))}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"auxiliaryPower\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Auxiliary Engine Power (kW)</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"number\"\n                      placeholder=\"e.g., 500\"\n                      data-testid=\"input-auxiliary-power\"\n                      {...field}\n                      onChange={(e) => field.onChange(parseFloat(e.target.value))}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <FormField\n                control={form.control}\n                name=\"daysAtSea\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Days at Sea per Year</FormLabel>\n                    <FormControl>\n                      <Input\n                        type=\"number\"\n                        placeholder=\"e.g., 300\"\n                        data-testid=\"input-days-at-sea\"\n                        {...field}\n                        onChange={(e) => field.onChange(parseFloat(e.target.value))}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"daysInPort\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Days in Port per Year</FormLabel>\n                    <FormControl>\n                      <Input\n                        type=\"number\"\n                        placeholder=\"e.g., 65\"\n                        data-testid=\"input-days-in-port\"\n                        {...field}\n                        onChange={(e) => field.onChange(parseFloat(e.target.value))}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </div>\n\n            <FormField\n              control={form.control}\n              name=\"fuelType\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Fuel Type</FormLabel>\n                  <Select\n                    onValueChange={field.onChange}\n                    defaultValue={field.value}\n                    data-testid=\"select-fuel-type\"\n                  >\n                    <FormControl>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select fuel type\" />\n                      </SelectTrigger>\n                    </FormControl>\n                    <SelectContent>\n                      {fuelTypes.map((fuel) => (\n                        <SelectItem key={fuel.value} value={fuel.value}>\n                          {fuel.label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"fuelPrice\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Fuel Price ($/MT)</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"number\"\n                      placeholder=\"e.g., 550\"\n                      data-testid=\"input-fuel-price\"\n                      {...field}\n                      onChange={(e) => field.onChange(parseFloat(e.target.value))}\n                    />\n                  </FormControl>\n                  <p className=\"text-xs text-muted-foreground mt-1\">\n                    Typical 2025 prices: HFO $450-580, VLSFO $580-650, MDO/MGO $650-800\n                  </p>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <Button type=\"submit\" className=\"w-full\" data-testid=\"button-calculate-fuel-cost\">\n              Calculate Annual Fuel Cost\n            </Button>\n          </form>\n        </Form>\n\n        {result && (\n          <div className=\"mt-6 space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-lg font-semibold\">Annual Fuel Consumption & Cost</h3>\n            </div>\n\n            <div className=\"grid gap-3\">\n              <div className=\"flex justify-between items-center p-3 bg-muted rounded-lg\">\n                <div>\n                  <p className=\"text-sm font-medium\">Main Engine Consumption</p>\n                  <p className=\"text-xs text-muted-foreground\">At 75% MCR</p>\n                </div>\n                <p className=\"text-lg font-semibold\" data-testid=\"text-main-consumption\">\n                  {result.mainEngineConsumption.toFixed(2)} MT\n                </p>\n              </div>\n\n              <div className=\"flex justify-between items-center p-3 bg-muted rounded-lg\">\n                <div>\n                  <p className=\"text-sm font-medium\">Auxiliary Engine Consumption</p>\n                  <p className=\"text-xs text-muted-foreground\">At sea + in port</p>\n                </div>\n                <p className=\"text-lg font-semibold\" data-testid=\"text-auxiliary-consumption\">\n                  {result.auxiliaryConsumption.toFixed(2)} MT\n                </p>\n              </div>\n\n              <div className=\"flex justify-between items-center p-3 bg-primary/10 rounded-lg border border-primary/20\">\n                <div>\n                  <p className=\"text-sm font-medium\">Total Annual Consumption</p>\n                </div>\n                <p className=\"text-lg font-semibold\" data-testid=\"text-total-consumption\">\n                  {result.totalConsumption.toFixed(2)} MT\n                </p>\n              </div>\n\n              <div className=\"flex justify-between items-center p-4 bg-card rounded-lg border-2\">\n                <div>\n                  <p className=\"font-semibold\">Total Annual Fuel Cost</p>\n                  <p className=\"text-xs text-muted-foreground\">\n                    {result.totalConsumption.toFixed(2)} MT × ${form.getValues('fuelPrice')}/MT\n                  </p>\n                </div>\n                <p className=\"text-3xl font-bold\" data-testid=\"text-total-fuel-cost\">\n                  ${result.totalCost.toLocaleString()}\n                </p>\n              </div>\n            </div>\n\n            <div className=\"text-xs text-muted-foreground bg-muted p-3 rounded\">\n              <p className=\"font-semibold mb-1\">Calculation Method:</p>\n              <p>\n                SFOC: Main engine {form.getValues('fuelType') === 'HFO' ? '175' : '185'} g/kWh, \n                Auxiliary 220 g/kWh. Main engine at 75% MCR, auxiliary at 50% at sea, 30% in port.\n              </p>\n            </div>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":9678},"client/src/components/FuelEUCalculator.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { fuelEUInputSchema, type FuelEUInput } from \"@shared/schema\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Euro } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { calculateFuelEUCompliance } from \"@/lib/calculations\";\nimport { ComplianceBadge } from \"./ComplianceBadge\";\n\ninterface FuelEUCalculatorProps {\n  onResultCalculated?: (result: { intensity: number; limit: number; penalty: number; compliance: boolean }) => void;\n}\n\nexport function FuelEUCalculator({ onResultCalculated }: FuelEUCalculatorProps = {}) {\n  const [result, setResult] = useState<{\n    intensity: number;\n    limit: number;\n    penalty: number;\n    compliance: boolean;\n  } | null>(null);\n\n  const form = useForm<FuelEUInput>({\n    resolver: zodResolver(fuelEUInputSchema),\n    defaultValues: {\n      totalEnergyUsed: 0,\n      ghgEmissions: 0,\n      euPortCalls: 0,\n      intraEUVoyages: 0,\n      year: 2025,\n    },\n  });\n\n  const handleCalculate = (data: FuelEUInput) => {\n    const res = calculateFuelEUCompliance(data.totalEnergyUsed, data.ghgEmissions, data.year);\n    setResult(res);\n    if (onResultCalculated) {\n      onResultCalculated(res);\n    }\n    console.log(\"FuelEU calculated:\", res);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card data-testid=\"card-fueleu-calculator\">\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 bg-primary/10 rounded-lg\">\n                <Euro className=\"h-5 w-5 text-primary\" />\n              </div>\n              <div>\n                <CardTitle>FuelEU Maritime Calculator</CardTitle>\n                <CardDescription>GHG intensity limits and penalty estimation (2025-2050)</CardDescription>\n              </div>\n            </div>\n            <Badge variant=\"secondary\" className=\"text-xs uppercase\">Well-to-Wake</Badge>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={form.handleSubmit(handleCalculate)} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"totalEnergyUsed\">Total Energy Used (MJ)</Label>\n                <Input\n                  id=\"totalEnergyUsed\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"totalEnergyUsed\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 750000000\"\n                  data-testid=\"input-total-energy\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"ghgEmissions\">Total GHG Emissions (gCO₂eq)</Label>\n                <Input\n                  id=\"ghgEmissions\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"ghgEmissions\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 68500000000\"\n                  data-testid=\"input-ghg-emissions\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"euPortCalls\">EU Port Calls</Label>\n                <Input\n                  id=\"euPortCalls\"\n                  type=\"number\"\n                  {...form.register(\"euPortCalls\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 45\"\n                  data-testid=\"input-eu-port-calls\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"intraEUVoyages\">Intra-EU Voyages</Label>\n                <Input\n                  id=\"intraEUVoyages\"\n                  type=\"number\"\n                  {...form.register(\"intraEUVoyages\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 12\"\n                  data-testid=\"input-intra-eu-voyages\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"year\">Compliance Year</Label>\n                <Input\n                  id=\"year\"\n                  type=\"number\"\n                  {...form.register(\"year\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 2025\"\n                  data-testid=\"input-fueleu-year\"\n                />\n              </div>\n            </div>\n\n            <Button type=\"submit\" className=\"w-full\" data-testid=\"button-calculate-fueleu\">\n              Calculate FuelEU Compliance\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n\n      {result && (\n        <Card data-testid=\"card-fueleu-results\">\n          <CardHeader>\n            <CardTitle>FuelEU Maritime Results</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <div className=\"space-y-1\">\n                  <div className=\"text-sm text-muted-foreground\">GHG Intensity</div>\n                  <div className=\"text-2xl font-bold font-mono\">{result.intensity.toFixed(2)}</div>\n                  <div className=\"text-xs text-muted-foreground\">gCO₂eq/MJ</div>\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"text-sm text-muted-foreground\">Required Limit</div>\n                  <div className=\"text-2xl font-bold font-mono\">{result.limit.toFixed(2)}</div>\n                  <div className=\"text-xs text-muted-foreground\">gCO₂eq/MJ</div>\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"text-sm text-muted-foreground\">Penalty Cost</div>\n                  <div className=\"text-2xl font-bold font-mono text-destructive\">\n                    €{result.penalty.toLocaleString(undefined, { maximumFractionDigits: 0 })}\n                  </div>\n                  <div className=\"text-xs text-muted-foreground\">If non-compliant</div>\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"text-sm text-muted-foreground\">Status</div>\n                  <div className=\"mt-2\">\n                    <ComplianceBadge status={result.compliance ? \"compliant\" : \"non-compliant\"} />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n","size_bytes":6686},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // put application routes here\n  // prefix all routes with /api\n\n  // use storage to perform CRUD operations on the storage interface\n  // e.g. storage.insertUser(user) or storage.getUserByUsername(username)\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","size_bytes":473},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"client/src/components/examples/EUETSCalculator.tsx":{"content":"import { EUETSCalculator } from '../EUETSCalculator'\n\nexport default function EUETSCalculatorExample() {\n  return (\n    <div className=\"max-w-4xl\">\n      <EUETSCalculator />\n    </div>\n  )\n}\n","size_bytes":191},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2210},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/components/EUETSCalculator.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { euETSInputSchema, type EUETSInput } from \"@shared/schema\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Euro } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { calculateEUETS } from \"@/lib/calculations\";\n\ninterface EUETSCalculatorProps {\n  onResultCalculated?: (result: { allowancesNeeded: number; cost: number; coverage: number }) => void;\n}\n\nexport function EUETSCalculator({ onResultCalculated }: EUETSCalculatorProps = {}) {\n  const [result, setResult] = useState<{\n    allowancesNeeded: number;\n    cost: number;\n    coverage: number;\n  } | null>(null);\n\n  const form = useForm<EUETSInput>({\n    resolver: zodResolver(euETSInputSchema),\n    defaultValues: {\n      totalCO2Emissions: 0,\n      intraEUEmissions: 0,\n      euPortEmissions: 0,\n      carbonPrice: 85,\n      year: 2025,\n    },\n  });\n\n  const handleCalculate = (data: EUETSInput) => {\n    const res = calculateEUETS(\n      data.totalCO2Emissions,\n      data.intraEUEmissions,\n      data.euPortEmissions,\n      data.carbonPrice,\n      data.year\n    );\n    setResult(res);\n    if (onResultCalculated) {\n      onResultCalculated(res);\n    }\n    console.log(\"EU ETS calculated:\", res);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card data-testid=\"card-euets-calculator\">\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 bg-primary/10 rounded-lg\">\n                <Euro className=\"h-5 w-5 text-primary\" />\n              </div>\n              <div>\n                <CardTitle>EU ETS Calculator</CardTitle>\n                <CardDescription>Emissions Trading System allowance costs (2024-2026)</CardDescription>\n              </div>\n            </div>\n            <Badge variant=\"secondary\" className=\"text-xs uppercase\">70% Coverage (2025)</Badge>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={form.handleSubmit(handleCalculate)} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"totalCO2Emissions\">Total CO₂ Emissions (tonnes)</Label>\n                <Input\n                  id=\"totalCO2Emissions\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"totalCO2Emissions\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 58000\"\n                  data-testid=\"input-total-co2\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"intraEUEmissions\">Intra-EU Emissions (tonnes)</Label>\n                <Input\n                  id=\"intraEUEmissions\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"intraEUEmissions\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 8500\"\n                  data-testid=\"input-intra-eu-co2\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"euPortEmissions\">EU Port Emissions (tonnes)</Label>\n                <Input\n                  id=\"euPortEmissions\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"euPortEmissions\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 2400\"\n                  data-testid=\"input-eu-port-co2\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"carbonPrice\">Carbon Price (€/tonne)</Label>\n                <Input\n                  id=\"carbonPrice\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"carbonPrice\", { valueAsNumber: true })}\n                  placeholder=\"Current: ~€85\"\n                  data-testid=\"input-carbon-price\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"year\">Compliance Year</Label>\n                <Input\n                  id=\"year\"\n                  type=\"number\"\n                  {...form.register(\"year\", { valueAsNumber: true })}\n                  placeholder=\"2024, 2025, or 2026\"\n                  data-testid=\"input-euets-year\"\n                />\n              </div>\n            </div>\n\n            <Button type=\"submit\" className=\"w-full\" data-testid=\"button-calculate-euets\">\n              Calculate EU ETS Cost\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n\n      {result && (\n        <Card data-testid=\"card-euets-results\">\n          <CardHeader>\n            <CardTitle>EU ETS Results</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div className=\"space-y-1\">\n                  <div className=\"text-sm text-muted-foreground\">Allowances Needed</div>\n                  <div className=\"text-3xl font-bold font-mono\">\n                    {result.allowancesNeeded.toLocaleString(undefined, { maximumFractionDigits: 0 })}\n                  </div>\n                  <div className=\"text-xs text-muted-foreground\">tonnes CO₂</div>\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"text-sm text-muted-foreground\">Total Cost</div>\n                  <div className=\"text-3xl font-bold font-mono text-destructive\">\n                    €{result.cost.toLocaleString(undefined, { maximumFractionDigits: 0 })}\n                  </div>\n                  <div className=\"text-xs text-muted-foreground\">Annual allowance cost</div>\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"text-sm text-muted-foreground\">Coverage Rate</div>\n                  <div className=\"text-3xl font-bold font-mono\">{(result.coverage * 100).toFixed(0)}%</div>\n                  <div className=\"text-xs text-muted-foreground\">of total emissions</div>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n","size_bytes":6546},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4050},"client/src/components/examples/CIIRatingDisplay.tsx":{"content":"import { CIIRatingDisplay } from '../CIIRatingDisplay'\n\nexport default function CIIRatingDisplayExample() {\n  return (\n    <div className=\"space-y-4 max-w-md\">\n      <CIIRatingDisplay rating=\"A\" attainedCII={4.2} requiredCII={5.8} />\n      <CIIRatingDisplay rating=\"C\" attainedCII={5.5} requiredCII={5.8} />\n      <CIIRatingDisplay rating=\"E\" attainedCII={7.2} requiredCII={5.8} />\n    </div>\n  )\n}\n","size_bytes":399},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"server/storage.ts":{"content":"import { type User, type InsertUser } from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\n\n// modify the interface with any CRUD methods\n// you might need\n\nexport interface IStorage {\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<string, User>;\n\n  constructor() {\n    this.users = new Map();\n  }\n\n  async getUser(id: string): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.username === username,\n    );\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const user: User = { ...insertUser, id };\n    this.users.set(id, user);\n    return user;\n  }\n}\n\nexport const storage = new MemStorage();\n","size_bytes":993},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport Calculator from \"@/pages/Calculator\";\nimport Fleet from \"@/pages/Fleet\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Calculator} />\n      <Route path=\"/fleet\" component={Fleet} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <Router />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":721},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/examples/CostSummaryCard.tsx":{"content":"import { CostSummaryCard } from '../CostSummaryCard'\n\nexport default function CostSummaryCardExample() {\n  const mockCosts = [\n    { label: \"EU ETS Allowances\", amount: 2125000, description: \"70% coverage at €85/tonne\" },\n    { label: \"FuelEU Maritime Penalty\", amount: 0, description: \"Compliant - no penalty\" },\n    { label: \"GFI Compliance\", amount: 185000, description: \"Estimated mid-term measure costs\" },\n  ]\n\n  return (\n    <div className=\"max-w-2xl\">\n      <CostSummaryCard costs={mockCosts} />\n    </div>\n  )\n}\n","size_bytes":523},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 210 5% 98%;\n\n  --foreground: 215 15% 15%;\n\n  --border: 210 8% 88%;\n\n  --card: 210 5% 96%;\n\n  --card-foreground: 215 15% 15%;\n\n  --card-border: 210 8% 91%;\n\n  --sidebar: 210 5% 94%;\n\n  --sidebar-foreground: 215 15% 15%;\n\n  --sidebar-border: 210 8% 86%;\n\n  --sidebar-primary: 211 85% 42%;\n\n  --sidebar-primary-foreground: 210 5% 98%;\n\n  --sidebar-accent: 210 8% 89%;\n\n  --sidebar-accent-foreground: 215 15% 20%;\n\n  --sidebar-ring: 211 85% 42%;\n\n  --popover: 210 6% 92%;\n\n  --popover-foreground: 215 15% 15%;\n\n  --popover-border: 210 8% 84%;\n\n  --primary: 211 85% 42%;\n\n  --primary-foreground: 210 5% 98%;\n\n  --secondary: 210 8% 88%;\n\n  --secondary-foreground: 215 15% 20%;\n\n  --muted: 210 10% 90%;\n\n  --muted-foreground: 215 12% 35%;\n\n  --accent: 210 12% 88%;\n\n  --accent-foreground: 215 15% 20%;\n\n  --destructive: 358 75% 42%;\n\n  --destructive-foreground: 0 0% 98%;\n\n  --input: 210 15% 75%;\n  --ring: 211 85% 42%;\n  --chart-1: 211 85% 42%;\n  --chart-2: 188 78% 38%;\n  --chart-3: 168 65% 35%;\n  --chart-4: 45 88% 48%;\n  --chart-5: 28 82% 52%;\n\n  --font-sans: Inter, system-ui, -apple-system, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: 'JetBrains Mono', 'Courier New', monospace;\n  --radius: .5rem; /* 8px */\n  --shadow-2xs: 0px 1px 2px 0px hsl(215 25% 27% / 0.04);\n  --shadow-xs: 0px 1px 3px 0px hsl(215 25% 27% / 0.08);\n  --shadow-sm: 0px 2px 4px -1px hsl(215 25% 27% / 0.06), 0px 1px 2px -1px hsl(215 25% 27% / 0.04);\n  --shadow: 0px 4px 6px -1px hsl(215 25% 27% / 0.08), 0px 2px 4px -1px hsl(215 25% 27% / 0.04);\n  --shadow-md: 0px 6px 12px -2px hsl(215 25% 27% / 0.10), 0px 3px 6px -2px hsl(215 25% 27% / 0.05);\n  --shadow-lg: 0px 10px 20px -4px hsl(215 25% 27% / 0.12), 0px 4px 8px -2px hsl(215 25% 27% / 0.06);\n  --shadow-xl: 0px 20px 30px -6px hsl(215 25% 27% / 0.14), 0px 8px 12px -4px hsl(215 25% 27% / 0.08);\n  --shadow-2xl: 0px 25px 50px -12px hsl(215 25% 27% / 0.20);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 215 18% 10%;\n\n  --foreground: 210 8% 92%;\n\n  --border: 215 15% 18%;\n\n  --card: 215 16% 13%;\n\n  --card-foreground: 210 8% 92%;\n\n  --card-border: 215 15% 20%;\n\n  --sidebar: 215 17% 16%;\n\n  --sidebar-foreground: 210 8% 92%;\n\n  --sidebar-border: 215 15% 23%;\n\n  --sidebar-primary: 211 88% 55%;\n\n  --sidebar-primary-foreground: 215 18% 10%;\n\n  --sidebar-accent: 215 16% 22%;\n\n  --sidebar-accent-foreground: 210 8% 92%;\n\n  --sidebar-ring: 211 88% 55%;\n\n  --popover: 215 16% 19%;\n\n  --popover-foreground: 210 8% 92%;\n\n  --popover-border: 215 15% 26%;\n\n  --primary: 211 88% 48%;\n\n  --primary-foreground: 210 5% 98%;\n\n  --secondary: 215 16% 25%;\n\n  --secondary-foreground: 210 8% 92%;\n\n  --muted: 215 16% 22%;\n\n  --muted-foreground: 210 8% 72%;\n\n  --accent: 215 18% 24%;\n\n  --accent-foreground: 210 8% 92%;\n\n  --destructive: 358 78% 48%;\n\n  --destructive-foreground: 0 0% 98%;\n\n  --input: 215 20% 35%;\n  --ring: 211 88% 55%;\n  --chart-1: 211 88% 65%;\n  --chart-2: 188 85% 58%;\n  --chart-3: 168 72% 55%;\n  --chart-4: 45 95% 65%;\n  --chart-5: 28 88% 65%;\n\n  --shadow-2xs: 0px 1px 2px 0px hsl(215 25% 5% / 0.40);\n  --shadow-xs: 0px 1px 3px 0px hsl(215 25% 5% / 0.50);\n  --shadow-sm: 0px 2px 4px -1px hsl(215 25% 5% / 0.45), 0px 1px 2px -1px hsl(215 25% 5% / 0.35);\n  --shadow: 0px 4px 6px -1px hsl(215 25% 5% / 0.50), 0px 2px 4px -1px hsl(215 25% 5% / 0.40);\n  --shadow-md: 0px 6px 12px -2px hsl(215 25% 5% / 0.55), 0px 3px 6px -2px hsl(215 25% 5% / 0.45);\n  --shadow-lg: 0px 10px 20px -4px hsl(215 25% 5% / 0.60), 0px 4px 8px -2px hsl(215 25% 5% / 0.50);\n  --shadow-xl: 0px 20px 30px -6px hsl(215 25% 5% / 0.65), 0px 8px 12px -4px hsl(215 25% 5% / 0.55);\n  --shadow-2xl: 0px 25px 50px -12px hsl(215 25% 5% / 0.70);\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n  \n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}","size_bytes":11441},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ShipbuildingCostCalculator.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { shipbuildingCostInputSchema, type ShipbuildingCostInput, shipTypes } from \"@shared/schema\";\nimport { calculateShipbuildingCost } from \"@/lib/calculations\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\n\nexport function ShipbuildingCostCalculator({ onCalculate }: { \n  onCalculate?: (cost: number) => void \n}) {\n  const [result, setResult] = useState<number | null>(null);\n\n  const form = useForm<ShipbuildingCostInput>({\n    resolver: zodResolver(shipbuildingCostInputSchema),\n    defaultValues: {\n      deadweight: 0,\n      grossTonnage: 0,\n      shipType: \"Bulk Carrier\",\n      isNewBuild: true,\n    },\n  });\n\n  const onSubmit = (data: ShipbuildingCostInput) => {\n    const cost = calculateShipbuildingCost(\n      data.deadweight,\n      data.grossTonnage,\n      data.shipType,\n      data.isNewBuild\n    );\n    setResult(cost);\n    onCalculate?.(cost);\n  };\n\n  return (\n    <Card data-testid=\"card-shipbuilding-calculator\">\n      <CardHeader>\n        <CardTitle>Shipbuilding Cost Estimator</CardTitle>\n        <CardDescription>\n          Parametric cost estimation for newbuild vessels based on DWT and ship type\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            <FormField\n              control={form.control}\n              name=\"deadweight\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Deadweight (DWT)</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"number\"\n                      placeholder=\"e.g., 75000\"\n                      data-testid=\"input-deadweight\"\n                      {...field}\n                      onChange={(e) => field.onChange(parseFloat(e.target.value))}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"grossTonnage\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Gross Tonnage (GT)</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"number\"\n                      placeholder=\"e.g., 45000\"\n                      data-testid=\"input-gross-tonnage\"\n                      {...field}\n                      onChange={(e) => field.onChange(parseFloat(e.target.value))}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"shipType\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Ship Type</FormLabel>\n                  <Select\n                    onValueChange={field.onChange}\n                    defaultValue={field.value}\n                    data-testid=\"select-ship-type\"\n                  >\n                    <FormControl>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select ship type\" />\n                      </SelectTrigger>\n                    </FormControl>\n                    <SelectContent>\n                      {shipTypes.map((type) => (\n                        <SelectItem key={type} value={type}>\n                          {type}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"isNewBuild\"\n              render={({ field }) => (\n                <FormItem className=\"flex flex-row items-start gap-3 space-y-0 rounded-md border p-4\">\n                  <FormControl>\n                    <Checkbox\n                      checked={field.value}\n                      onCheckedChange={field.onChange}\n                      data-testid=\"checkbox-new-build\"\n                    />\n                  </FormControl>\n                  <div className=\"space-y-1 leading-none\">\n                    <FormLabel>New Build Vessel</FormLabel>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Check if this is a new build (uncheck for existing vessels, which have $0 construction cost)\n                    </p>\n                  </div>\n                </FormItem>\n              )}\n            />\n\n            <Button type=\"submit\" className=\"w-full\" data-testid=\"button-calculate-shipbuilding\">\n              Calculate Shipbuilding Cost\n            </Button>\n          </form>\n        </Form>\n\n        {result !== null && (\n          <div className=\"mt-6 space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-lg font-semibold\">Estimated Cost</h3>\n            </div>\n\n            <div className=\"rounded-lg border p-4\">\n              <div className=\"flex justify-between items-center\">\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Total Shipbuilding Cost</p>\n                  {result === 0 ? (\n                    <p className=\"text-sm text-muted-foreground mt-1\">\n                      Existing vessel - no construction cost\n                    </p>\n                  ) : (\n                    <p className=\"text-sm text-muted-foreground mt-1\">\n                      Based on parametric estimation\n                    </p>\n                  )}\n                </div>\n                <p className=\"text-3xl font-bold\" data-testid=\"text-shipbuilding-cost\">\n                  ${result.toLocaleString()}\n                </p>\n              </div>\n            </div>\n\n            {result > 0 && (\n              <div className=\"text-xs text-muted-foreground bg-muted p-3 rounded\">\n                <p className=\"font-semibold mb-1\">Note:</p>\n                <p>\n                  This is a parametric estimate based on industry benchmarks ($650-$1200 per DWT \n                  depending on vessel type). Actual costs vary based on specifications, equipment, \n                  shipyard location, and market conditions.\n                </p>\n              </div>\n            )}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":6974},"client/src/components/CostSummaryCard.tsx":{"content":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Euro, TrendingUp } from \"lucide-react\";\n\ninterface CostBreakdown {\n  shipbuildingCosts: number;\n  fuelCosts: number;\n  imoGFITier1Costs: number;\n  imoGFITier2Costs: number;\n  imoGFIRewardCosts: number;\n  ciiCosts: number;\n  fuelEUMaritimeCosts: number;\n  otherCosts: number;\n}\n\ninterface CostSummaryCardProps {\n  costs: CostBreakdown;\n  shipName?: string;\n  complianceYear?: number;\n  totalFuelEnergy?: number;\n}\n\nexport function CostSummaryCard({ \n  costs, \n  shipName,\n  complianceYear = 2025,\n  totalFuelEnergy = 0\n}: CostSummaryCardProps) {\n  const totalCosts = \n    costs.shipbuildingCosts +\n    costs.fuelCosts +\n    costs.imoGFITier1Costs +\n    costs.imoGFITier2Costs +\n    costs.imoGFIRewardCosts +\n    costs.ciiCosts +\n    costs.fuelEUMaritimeCosts +\n    costs.otherCosts;\n\n  const regulatoryCosts = \n    costs.imoGFITier1Costs +\n    costs.imoGFITier2Costs +\n    costs.imoGFIRewardCosts +\n    costs.ciiCosts +\n    costs.fuelEUMaritimeCosts;\n\n  const totalCostsPerHFOeq = totalFuelEnergy > 0 ? totalCosts / totalFuelEnergy : 0;\n  const regulatoryCostsPerHFOeq = totalFuelEnergy > 0 ? regulatoryCosts / totalFuelEnergy : 0;\n\n  const formatCurrency = (value: number | undefined) => {\n    if (value === undefined || value === null || value === 0) return '0';\n    return value.toLocaleString(undefined, { maximumFractionDigits: 0 });\n  };\n\n  const formatPerUnit = (value: number | undefined) => {\n    if (value === undefined || value === null || value === 0) return '0';\n    return value.toLocaleString(undefined, { minimumFractionDigits: 3, maximumFractionDigits: 3 });\n  };\n\n  return (\n    <Card data-testid=\"card-cost-summary\">\n      <CardHeader>\n        <div className=\"flex items-center justify-between gap-3 flex-wrap\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 bg-primary/10 rounded-lg\">\n              <Euro className=\"h-5 w-5 text-primary\" />\n            </div>\n            <div>\n              <CardTitle>Cost Summary</CardTitle>\n              <CardDescription>\n                Annual cost breakdown - {complianceYear}\n              </CardDescription>\n            </div>\n          </div>\n          {shipName && (\n            <Badge variant=\"outline\" className=\"text-xs\" data-testid=\"badge-ship-name\">\n              {shipName}\n            </Badge>\n          )}\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full text-sm\">\n            <thead>\n              <tr className=\"border-b-2 border-primary/20\">\n                <th className=\"text-left py-3 px-3 font-semibold text-foreground bg-primary/5\">\n                  Year\n                </th>\n                <th className=\"text-right py-3 px-3 font-semibold text-foreground bg-primary/5\">\n                  {complianceYear}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr className=\"border-b hover-elevate\" data-testid=\"cost-row-shipbuilding\">\n                <td className=\"py-2.5 px-3 font-medium\">\n                  Shipbuilding costs\n                </td>\n                <td className=\"py-2.5 px-3 text-right font-mono\">\n                  {formatCurrency(costs.shipbuildingCosts)}\n                </td>\n              </tr>\n\n              <tr className=\"border-b hover-elevate\" data-testid=\"cost-row-fuel\">\n                <td className=\"py-2.5 px-3 font-medium\">\n                  Fuel costs\n                </td>\n                <td className=\"py-2.5 px-3 text-right font-mono\">\n                  {formatCurrency(costs.fuelCosts)}\n                </td>\n              </tr>\n\n              <tr className={`border-b hover-elevate ${costs.imoGFITier1Costs > 0 ? 'bg-amber-50/50 dark:bg-amber-950/20' : ''}`} data-testid=\"cost-row-gfi-tier1\">\n                <td className=\"py-2.5 px-3 font-medium\">\n                  IMO GFI (Tier 1) costs\n                </td>\n                <td className={`py-2.5 px-3 text-right font-mono font-semibold ${costs.imoGFITier1Costs > 0 ? 'text-amber-600 dark:text-amber-400' : ''}`}>\n                  {costs.imoGFITier1Costs > 0 && '€'}\n                  {formatCurrency(costs.imoGFITier1Costs)}\n                </td>\n              </tr>\n\n              <tr className={`border-b hover-elevate ${costs.imoGFITier2Costs > 0 ? 'bg-destructive/5' : ''}`} data-testid=\"cost-row-gfi-tier2\">\n                <td className=\"py-2.5 px-3 font-medium\">\n                  IMO GFI (Tier 2) costs\n                </td>\n                <td className={`py-2.5 px-3 text-right font-mono font-semibold ${costs.imoGFITier2Costs > 0 ? 'text-destructive' : ''}`}>\n                  {costs.imoGFITier2Costs > 0 && '€'}\n                  {formatCurrency(costs.imoGFITier2Costs)}\n                </td>\n              </tr>\n\n              <tr className=\"border-b hover-elevate\" data-testid=\"cost-row-gfi-reward\">\n                <td className=\"py-2.5 px-3 font-medium\">\n                  IMO GFI (Reward) costs\n                </td>\n                <td className=\"py-2.5 px-3 text-right font-mono text-green-600 dark:text-green-400 font-semibold\">\n                  {formatCurrency(costs.imoGFIRewardCosts)}\n                </td>\n              </tr>\n\n              <tr className=\"border-b hover-elevate\" data-testid=\"cost-row-cii\">\n                <td className=\"py-2.5 px-3 font-medium\">\n                  CII costs\n                </td>\n                <td className=\"py-2.5 px-3 text-right font-mono\">\n                  {formatCurrency(costs.ciiCosts)}\n                </td>\n              </tr>\n\n              <tr className={`border-b hover-elevate ${costs.fuelEUMaritimeCosts > 0 ? 'bg-destructive/5' : ''}`} data-testid=\"cost-row-fueleu\">\n                <td className=\"py-2.5 px-3 font-medium\">\n                  FuelEU Maritime costs\n                </td>\n                <td className={`py-2.5 px-3 text-right font-mono font-semibold ${costs.fuelEUMaritimeCosts > 0 ? 'text-destructive' : ''}`}>\n                  {costs.fuelEUMaritimeCosts > 0 && '€'}\n                  {formatCurrency(costs.fuelEUMaritimeCosts)}\n                </td>\n              </tr>\n\n              <tr className=\"border-b hover-elevate\" data-testid=\"cost-row-other\">\n                <td className=\"py-2.5 px-3 font-medium\">\n                  Other costs\n                </td>\n                <td className=\"py-2.5 px-3 text-right font-mono\">\n                  {formatCurrency(costs.otherCosts)}\n                </td>\n              </tr>\n\n              <tr className=\"border-b-2 border-primary/40 bg-primary/5\" data-testid=\"cost-row-total\">\n                <td className=\"py-3 px-3 font-bold\">\n                  Total costs\n                </td>\n                <td className=\"py-3 px-3 text-right font-mono font-bold text-lg text-primary\" data-testid=\"text-total-cost\">\n                  €{formatCurrency(totalCosts)}\n                </td>\n              </tr>\n\n              <tr className=\"border-b hover-elevate\" data-testid=\"cost-row-per-hfoeq\">\n                <td className=\"py-2.5 px-3 font-medium\">\n                  Total costs /(1 HFOeq)\n                </td>\n                <td className=\"py-2.5 px-3 text-right font-mono text-sm\">\n                  {formatPerUnit(totalCostsPerHFOeq)}\n                </td>\n              </tr>\n\n              <tr className=\"border-b hover-elevate\" data-testid=\"cost-row-regulatory-per-hfoeq\">\n                <td className=\"py-2.5 px-3 font-medium\">\n                  Regulations costs /(1 HFOeq)\n                </td>\n                <td className=\"py-2.5 px-3 text-right font-mono text-sm\">\n                  {formatPerUnit(regulatoryCostsPerHFOeq)}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"mt-6 pt-4 border-t\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs\">\n            <div className=\"flex items-start gap-2\">\n              <div className=\"mt-0.5 h-2 w-2 rounded-full bg-blue-500 flex-shrink-0\"></div>\n              <div>\n                <div className=\"font-semibold text-muted-foreground\">IMO GFI Tiers</div>\n                <div className=\"text-muted-foreground\">Tier 1: €100/t, Tier 2: €380/t CO₂eq</div>\n              </div>\n            </div>\n            <div className=\"flex items-start gap-2\">\n              <div className=\"mt-0.5 h-2 w-2 rounded-full bg-amber-500 flex-shrink-0\"></div>\n              <div>\n                <div className=\"font-semibold text-muted-foreground\">FuelEU Maritime</div>\n                <div className=\"text-muted-foreground\">GHG intensity compliance penalties</div>\n              </div>\n            </div>\n            <div className=\"flex items-start gap-2\">\n              <div className=\"mt-0.5 h-2 w-2 rounded-full bg-green-500 flex-shrink-0\"></div>\n              <div>\n                <div className=\"font-semibold text-muted-foreground\">CII Rating</div>\n                <div className=\"text-muted-foreground\">Operational efficiency requirements</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":9257},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/GHGIntensityChart.tsx":{"content":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { ComposedChart, Line, Area, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceLine, Label } from \"recharts\";\nimport { TrendingDown } from \"lucide-react\";\n\ninterface GHGIntensityChartProps {\n  attainedIntensity?: number;\n}\n\nexport function GHGIntensityChart({ attainedIntensity }: GHGIntensityChartProps) {\n  const baseline = 91.16;\n  \n  const reductionTargets: Record<number, number> = {\n    2025: 0.02, 2026: 0.02,\n    2027: 0.04, 2028: 0.05, 2029: 0.056,\n    2030: 0.06, 2031: 0.08, 2032: 0.10, 2033: 0.12, 2034: 0.135,\n    2035: 0.145, 2036: 0.18, 2037: 0.21, 2038: 0.25, 2039: 0.285,\n    2040: 0.31, 2041: 0.37, 2042: 0.43, 2043: 0.50, 2044: 0.565,\n    2045: 0.62, 2046: 0.68, 2047: 0.73, 2048: 0.77, 2049: 0.785,\n    2050: 0.80,\n  };\n\n  const chartData = Object.entries(reductionTargets).map(([year, reduction]) => {\n    const baseTarget = baseline * (1 - reduction);\n    const directCompliance = baseTarget * 0.95;\n    const tier1Upper = baseTarget * 1.2;\n    const tier2Upper = baseTarget * 1.4;\n    const threshold = 20;\n    \n    const greenZone = Math.min(threshold, baseTarget);\n    const complianceZone = Math.max(0, baseTarget - greenZone);\n    const tier1Zone = tier1Upper - baseTarget;\n    const tier2Zone = tier2Upper - tier1Upper;\n    \n    return {\n      year: parseInt(year),\n      baseTarget,\n      directCompliance,\n      greenZone,\n      complianceZone,\n      tier1Zone,\n      tier2Zone,\n    };\n  });\n\n  const maxLimit = Math.max(...chartData.map(d => d.greenZone + d.complianceZone + d.tier1Zone + d.tier2Zone));\n  const yAxisMax = attainedIntensity !== undefined \n    ? Math.max(maxLimit, attainedIntensity) * 1.05\n    : maxLimit * 1.05;\n\n  return (\n    <Card data-testid=\"card-ghg-intensity-chart\">\n      <CardHeader>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"p-2 bg-primary/10 rounded-lg\">\n            <TrendingDown className=\"h-5 w-5 text-primary\" />\n          </div>\n          <div>\n            <CardTitle>FuelEU Maritime - GHG Intensity Limits</CardTitle>\n            <CardDescription>\n              Regulatory compliance framework (2025-2050)\n            </CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <ResponsiveContainer width=\"100%\" height={450}>\n          <ComposedChart\n            data={chartData}\n            margin={{ top: 20, right: 30, left: 20, bottom: 20 }}\n          >\n            <defs>\n              <linearGradient id=\"tier2Gradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"0%\" stopColor=\"#60a5fa\" stopOpacity={0.8} />\n                <stop offset=\"100%\" stopColor=\"#93c5fd\" stopOpacity={0.4} />\n              </linearGradient>\n              <linearGradient id=\"tier1Gradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"0%\" stopColor=\"#93c5fd\" stopOpacity={0.6} />\n                <stop offset=\"100%\" stopColor=\"#bfdbfe\" stopOpacity={0.3} />\n              </linearGradient>\n              <linearGradient id=\"complianceGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"0%\" stopColor=\"#e0f2fe\" stopOpacity={0.5} />\n                <stop offset=\"100%\" stopColor=\"#f0f9ff\" stopOpacity={0.2} />\n              </linearGradient>\n              <linearGradient id=\"greenZone\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"0%\" stopColor=\"#86efac\" stopOpacity={0.6} />\n                <stop offset=\"100%\" stopColor=\"#bbf7d0\" stopOpacity={0.3} />\n              </linearGradient>\n            </defs>\n            \n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e2e8f0\" opacity={0.5} />\n            \n            <XAxis\n              dataKey=\"year\"\n              stroke=\"#64748b\"\n              tick={{ fill: '#64748b', fontSize: 12 }}\n              tickLine={{ stroke: '#cbd5e1' }}\n            >\n              <Label value=\"Year\" position=\"insideBottom\" offset={-10} style={{ fill: '#475569', fontSize: 13, fontWeight: 600 }} />\n            </XAxis>\n            \n            <YAxis\n              stroke=\"#64748b\"\n              tick={{ fill: '#64748b', fontSize: 12 }}\n              tickLine={{ stroke: '#cbd5e1' }}\n              domain={[0, yAxisMax]}\n            >\n              <Label \n                value=\"GHG Fuel Intensity (gCO₂eq/MJ)\" \n                angle={-90} \n                position=\"insideLeft\" \n                style={{ fill: '#475569', fontSize: 13, fontWeight: 600, textAnchor: 'middle' }}\n              />\n            </YAxis>\n            \n            <Tooltip\n              contentStyle={{\n                backgroundColor: 'rgba(255, 255, 255, 0.98)',\n                border: '1px solid #cbd5e1',\n                borderRadius: '8px',\n                boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)',\n              }}\n              labelStyle={{ color: '#0f172a', fontWeight: 600, marginBottom: 8 }}\n              formatter={(value: number, name: string) => {\n                if (name === 'baseTarget' || name === 'directCompliance') {\n                  const displayName = name === 'baseTarget' ? 'Base Target' : 'Direct Compliance';\n                  return [value.toFixed(2) + ' gCO₂eq/MJ', displayName];\n                }\n                return null;\n              }}\n            />\n            \n            <Legend \n              verticalAlign=\"top\" \n              height={36}\n              iconType=\"line\"\n              wrapperStyle={{ paddingBottom: '10px' }}\n            />\n\n            <Area\n              type=\"stepAfter\"\n              dataKey=\"greenZone\"\n              stackId=\"1\"\n              stroke=\"none\"\n              fill=\"url(#greenZone)\"\n              fillOpacity={1}\n              name=\"Zero Emissions Incentive\"\n              isAnimationActive={false}\n            />\n            \n            <Area\n              type=\"stepAfter\"\n              dataKey=\"complianceZone\"\n              stackId=\"1\"\n              stroke=\"none\"\n              fill=\"url(#complianceGradient)\"\n              fillOpacity={1}\n              name=\"Compliance Zone\"\n              isAnimationActive={false}\n            />\n            \n            <Area\n              type=\"stepAfter\"\n              dataKey=\"tier1Zone\"\n              stackId=\"1\"\n              stroke=\"none\"\n              fill=\"url(#tier1Gradient)\"\n              fillOpacity={1}\n              name=\"Penalty Zone (Tier 1)\"\n              isAnimationActive={false}\n            />\n\n            <Area\n              type=\"stepAfter\"\n              dataKey=\"tier2Zone\"\n              stackId=\"1\"\n              stroke=\"none\"\n              fill=\"url(#tier2Gradient)\"\n              fillOpacity={1}\n              name=\"High Penalty Zone (Tier 2)\"\n              isAnimationActive={false}\n            />\n            \n            <Line\n              type=\"stepAfter\"\n              dataKey=\"baseTarget\"\n              stroke=\"#2563eb\"\n              strokeWidth={3}\n              name=\"Base Target\"\n              dot={false}\n              isAnimationActive={false}\n            />\n            \n            <Line\n              type=\"stepAfter\"\n              dataKey=\"directCompliance\"\n              stroke=\"#0284c7\"\n              strokeWidth={2}\n              strokeDasharray=\"5 5\"\n              name=\"Direct Compliance Target\"\n              dot={false}\n              isAnimationActive={false}\n            />\n\n            <ReferenceLine\n              y={20}\n              stroke=\"#059669\"\n              strokeWidth={2}\n              strokeDasharray=\"3 3\"\n            >\n              <Label \n                value=\"ZN2 Threshold (20 gCO₂eq/MJ)\" \n                position=\"insideBottomLeft\" \n                fill=\"#059669\"\n                fontSize={11}\n                fontWeight={600}\n              />\n            </ReferenceLine>\n            \n            {attainedIntensity !== undefined && (\n              <ReferenceLine\n                y={attainedIntensity}\n                stroke=\"#dc2626\"\n                strokeWidth={3}\n                strokeDasharray=\"5 5\"\n              >\n                <Label \n                  value={`Your Intensity: ${attainedIntensity.toFixed(2)} gCO₂eq/MJ`}\n                  position=\"top\"\n                  fill=\"#dc2626\"\n                  fontSize={12}\n                  fontWeight={600}\n                />\n              </ReferenceLine>\n            )}\n          </ComposedChart>\n        </ResponsiveContainer>\n        \n        <div className=\"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\">\n          <div className=\"p-3 border rounded-lg bg-gradient-to-br from-blue-50 to-transparent dark:from-blue-950/20\" data-testid=\"metric-2025-limit\">\n            <div className=\"text-muted-foreground font-semibold\">2025 Limit</div>\n            <div className=\"text-xl font-bold font-mono text-blue-600 dark:text-blue-400\" data-testid=\"text-2025-limit-value\">\n              {(baseline * (1 - 0.02)).toFixed(2)}\n            </div>\n            <div className=\"text-xs text-muted-foreground\">gCO₂eq/MJ</div>\n          </div>\n          <div className=\"p-3 border rounded-lg bg-gradient-to-br from-blue-50 to-transparent dark:from-blue-950/20\" data-testid=\"metric-2035-limit\">\n            <div className=\"text-muted-foreground font-semibold\">2035 Limit</div>\n            <div className=\"text-xl font-bold font-mono text-blue-600 dark:text-blue-400\" data-testid=\"text-2035-limit-value\">\n              {(baseline * (1 - 0.145)).toFixed(2)}\n            </div>\n            <div className=\"text-xs text-muted-foreground\">gCO₂eq/MJ</div>\n          </div>\n          <div className=\"p-3 border rounded-lg bg-gradient-to-br from-green-50 to-transparent dark:from-green-950/20\" data-testid=\"metric-2050-target\">\n            <div className=\"text-muted-foreground font-semibold\">2050 Target</div>\n            <div className=\"text-xl font-bold font-mono text-green-600 dark:text-green-400\" data-testid=\"text-2050-target-value\">\n              {(baseline * (1 - 0.80)).toFixed(2)}\n            </div>\n            <div className=\"text-xs text-muted-foreground\">gCO₂eq/MJ (-80%)</div>\n          </div>\n          <div className=\"p-3 border rounded-lg bg-gradient-to-br from-green-50 to-transparent dark:from-green-950/20\">\n            <div className=\"text-muted-foreground font-semibold\">ZN2 Threshold</div>\n            <div className=\"text-xl font-bold font-mono text-green-600 dark:text-green-400\">20.00</div>\n            <div className=\"text-xs text-muted-foreground\">Zero Emissions Goal</div>\n          </div>\n        </div>\n\n        <div className=\"mt-4 p-4 bg-muted/50 rounded-lg border\">\n          <h4 className=\"font-semibold mb-2 text-sm\">Penalty Tiers</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs\">\n            <div className=\"flex items-start gap-2\">\n              <div className=\"w-4 h-4 rounded bg-gradient-to-br from-blue-200 to-blue-300 dark:from-blue-800 dark:to-blue-700 mt-0.5\"></div>\n              <div>\n                <div className=\"font-semibold\">Tier 1 Penalty Zone</div>\n                <div className=\"text-muted-foreground\">€100/t CO₂eq shortfall (2025-2030)</div>\n              </div>\n            </div>\n            <div className=\"flex items-start gap-2\">\n              <div className=\"w-4 h-4 rounded bg-gradient-to-br from-blue-400 to-blue-500 dark:from-blue-600 dark:to-blue-500 mt-0.5\"></div>\n              <div>\n                <div className=\"font-semibold\">Tier 2 High Penalty Zone</div>\n                <div className=\"text-muted-foreground\">€380/t CO₂eq shortfall (2028-2030+)</div>\n              </div>\n            </div>\n            <div className=\"flex items-start gap-2\">\n              <div className=\"w-4 h-4 rounded bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 mt-0.5\"></div>\n              <div>\n                <div className=\"font-semibold\">Compliance Zone</div>\n                <div className=\"text-muted-foreground\">Below direct compliance target - no penalty</div>\n              </div>\n            </div>\n            <div className=\"flex items-start gap-2\">\n              <div className=\"w-4 h-4 rounded bg-gradient-to-br from-green-200 to-green-300 dark:from-green-800 dark:to-green-700 mt-0.5\"></div>\n              <div>\n                <div className=\"font-semibold\">Zero Emissions Incentive</div>\n                <div className=\"text-muted-foreground\">Below 20 gCO₂eq/MJ - banking allowed</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":12530},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ComplianceBadge.tsx":{"content":"import { Badge } from \"@/components/ui/badge\";\nimport { CheckCircle2, AlertTriangle, XCircle } from \"lucide-react\";\n\ninterface ComplianceBadgeProps {\n  status: \"compliant\" | \"warning\" | \"non-compliant\";\n  label?: string;\n}\n\nexport function ComplianceBadge({ status, label }: ComplianceBadgeProps) {\n  const variants = {\n    compliant: {\n      icon: CheckCircle2,\n      text: label || \"Compliant\",\n      className: \"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800\",\n    },\n    warning: {\n      icon: AlertTriangle,\n      text: label || \"Warning\",\n      className: \"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800\",\n    },\n    \"non-compliant\": {\n      icon: XCircle,\n      text: label || \"Non-Compliant\",\n      className: \"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800\",\n    },\n  };\n\n  const { icon: Icon, text, className } = variants[status];\n\n  return (\n    <Badge className={`gap-1.5 ${className}`} data-testid={`badge-compliance-${status}`}>\n      <Icon className=\"h-3.5 w-3.5\" />\n      {text}\n    </Badge>\n  );\n}\n","size_bytes":1186},"client/src/components/ShipInfoForm.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { shipInfoSchema, shipTypes, type ShipInfo } from \"@shared/schema\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Ship } from \"lucide-react\";\n\ninterface ShipInfoFormProps {\n  onSubmit: (data: ShipInfo) => void;\n  defaultValues?: Partial<ShipInfo>;\n}\n\nexport function ShipInfoForm({ onSubmit, defaultValues }: ShipInfoFormProps) {\n  const form = useForm<ShipInfo>({\n    resolver: zodResolver(shipInfoSchema),\n    defaultValues: defaultValues || {\n      shipName: \"\",\n      shipType: \"Bulk Carrier\",\n      deadweight: 0,\n      grossTonnage: 0,\n      yearBuilt: new Date().getFullYear(),\n      isNewBuild: false,\n    },\n  });\n\n  const handleSubmit = (data: ShipInfo) => {\n    console.log(\"Ship info submitted:\", data);\n    onSubmit(data);\n  };\n\n  return (\n    <Card data-testid=\"card-ship-info-form\">\n      <CardHeader>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"p-2 bg-primary/10 rounded-lg\">\n            <Ship className=\"h-5 w-5 text-primary\" />\n          </div>\n          <div>\n            <CardTitle>Ship Information</CardTitle>\n            <CardDescription>Enter basic vessel details for compliance calculations</CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"shipName\">Ship Name</Label>\n              <Input\n                id=\"shipName\"\n                {...form.register(\"shipName\")}\n                placeholder=\"e.g., MV Ocean Pioneer\"\n                data-testid=\"input-ship-name\"\n              />\n              {form.formState.errors.shipName && (\n                <p className=\"text-sm text-destructive\">{form.formState.errors.shipName.message}</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"shipType\">Ship Type</Label>\n              <Select\n                value={form.watch(\"shipType\")}\n                onValueChange={(value) => form.setValue(\"shipType\", value as any)}\n              >\n                <SelectTrigger data-testid=\"select-ship-type\">\n                  <SelectValue placeholder=\"Select ship type\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {shipTypes.map((type) => (\n                    <SelectItem key={type} value={type}>\n                      {type}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"deadweight\">Deadweight Tonnage (DWT)</Label>\n              <Input\n                id=\"deadweight\"\n                type=\"number\"\n                {...form.register(\"deadweight\", { valueAsNumber: true })}\n                placeholder=\"e.g., 85000\"\n                data-testid=\"input-deadweight\"\n              />\n              {form.formState.errors.deadweight && (\n                <p className=\"text-sm text-destructive\">{form.formState.errors.deadweight.message}</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"grossTonnage\">Gross Tonnage (GT)</Label>\n              <Input\n                id=\"grossTonnage\"\n                type=\"number\"\n                {...form.register(\"grossTonnage\", { valueAsNumber: true })}\n                placeholder=\"e.g., 52000\"\n                data-testid=\"input-gross-tonnage\"\n              />\n              {form.formState.errors.grossTonnage && (\n                <p className=\"text-sm text-destructive\">{form.formState.errors.grossTonnage.message}</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"yearBuilt\">Year Built</Label>\n              <Input\n                id=\"yearBuilt\"\n                type=\"number\"\n                {...form.register(\"yearBuilt\", { valueAsNumber: true })}\n                placeholder=\"e.g., 2020\"\n                data-testid=\"input-year-built\"\n              />\n              {form.formState.errors.yearBuilt && (\n                <p className=\"text-sm text-destructive\">{form.formState.errors.yearBuilt.message}</p>\n              )}\n            </div>\n\n            <div className=\"flex items-center space-x-3 pt-8\">\n              <Switch\n                id=\"isNewBuild\"\n                checked={form.watch(\"isNewBuild\")}\n                onCheckedChange={(checked) => form.setValue(\"isNewBuild\", checked)}\n                data-testid=\"switch-new-build\"\n              />\n              <Label htmlFor=\"isNewBuild\" className=\"font-normal\">\n                New Build Ship (for EEDI calculation)\n              </Label>\n            </div>\n          </div>\n\n          <Button type=\"submit\" className=\"w-full\" data-testid=\"button-submit-ship-info\">\n            Continue to Calculations\n          </Button>\n        </form>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":5480},"client/src/components/CIICalculator.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { ciiInputSchema, fuelTypes, type CIIInput } from \"@shared/schema\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { TrendingDown } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { calculateCII, calculateRequiredCII, getCIIRating } from \"@/lib/calculations\";\nimport { CIIRatingDisplay } from \"./CIIRatingDisplay\";\n\ninterface CIICalculatorProps {\n  shipType: string;\n  onResultCalculated?: (result: { attained: number; required: number; rating: \"A\" | \"B\" | \"C\" | \"D\" | \"E\" }) => void;\n}\n\nexport function CIICalculator({ shipType, onResultCalculated }: CIICalculatorProps) {\n  const [result, setResult] = useState<{\n    attained: number;\n    required: number;\n    rating: \"A\" | \"B\" | \"C\" | \"D\" | \"E\";\n  } | null>(null);\n\n  const form = useForm<CIIInput>({\n    resolver: zodResolver(ciiInputSchema),\n    defaultValues: {\n      annualFuelConsumption: 0,\n      distanceTraveled: 0,\n      capacity: 0,\n      fuelType: \"HFO\",\n      year: new Date().getFullYear(),\n    },\n  });\n\n  const handleCalculate = (data: CIIInput) => {\n    const attained = calculateCII(\n      data.annualFuelConsumption,\n      data.distanceTraveled,\n      data.capacity,\n      data.fuelType\n    );\n\n    const required = calculateRequiredCII(shipType, data.capacity, data.year);\n    const rating = getCIIRating(attained, required);\n\n    const calculatedResult = { attained, required, rating: rating as any };\n    setResult(calculatedResult);\n    if (onResultCalculated) {\n      onResultCalculated(calculatedResult);\n    }\n    console.log(\"CII calculated:\", calculatedResult);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card data-testid=\"card-cii-calculator\">\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 bg-primary/10 rounded-lg\">\n                <TrendingDown className=\"h-5 w-5 text-primary\" />\n              </div>\n              <div>\n                <CardTitle>CII Calculator</CardTitle>\n                <CardDescription>Annual Carbon Intensity Indicator (A-E Rating)</CardDescription>\n              </div>\n            </div>\n            <Badge variant=\"secondary\" className=\"text-xs uppercase\">Annual Rating</Badge>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={form.handleSubmit(handleCalculate)} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"annualFuelConsumption\">Annual Fuel Consumption (tonnes)</Label>\n                <Input\n                  id=\"annualFuelConsumption\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"annualFuelConsumption\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 18500\"\n                  data-testid=\"input-fuel-consumption\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"distanceTraveled\">Distance Traveled (nautical miles)</Label>\n                <Input\n                  id=\"distanceTraveled\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"distanceTraveled\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 95000\"\n                  data-testid=\"input-distance-traveled\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"capacity\">Capacity (DWT)</Label>\n                <Input\n                  id=\"capacity\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  {...form.register(\"capacity\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 85000\"\n                  data-testid=\"input-cii-capacity\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"fuelType\">Fuel Type</Label>\n                <Select\n                  value={form.watch(\"fuelType\")}\n                  onValueChange={(value) => form.setValue(\"fuelType\", value)}\n                >\n                  <SelectTrigger data-testid=\"select-cii-fuel-type\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {fuelTypes.map((fuel) => (\n                      <SelectItem key={fuel.value} value={fuel.value}>\n                        {fuel.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"year\">Reporting Year</Label>\n                <Input\n                  id=\"year\"\n                  type=\"number\"\n                  {...form.register(\"year\", { valueAsNumber: true })}\n                  placeholder=\"e.g., 2025\"\n                  data-testid=\"input-cii-year\"\n                />\n              </div>\n            </div>\n\n            <Button type=\"submit\" className=\"w-full\" data-testid=\"button-calculate-cii\">\n              Calculate CII Rating\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n\n      {result && (\n        <CIIRatingDisplay\n          rating={result.rating}\n          attainedCII={result.attained}\n          requiredCII={result.required}\n        />\n      )}\n    </div>\n  );\n}\n","size_bytes":5871},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/components/examples/ShipInfoForm.tsx":{"content":"import { ShipInfoForm } from '../ShipInfoForm'\n\nexport default function ShipInfoFormExample() {\n  return (\n    <div className=\"max-w-3xl\">\n      <ShipInfoForm\n        onSubmit={(data) => console.log('Form submitted:', data)}\n        defaultValues={{\n          shipName: \"MV Ocean Pioneer\",\n          shipType: \"Bulk Carrier\",\n          deadweight: 85000,\n          grossTonnage: 52000,\n          yearBuilt: 2020,\n          isNewBuild: false,\n        }}\n      />\n    </div>\n  )\n}\n","size_bytes":479},"design_guidelines.md":{"content":"# Maritime Emissions Calculator - Design Guidelines\n\n## Design Approach\n\n**Framework:** Material Design System adapted for enterprise data applications\n**Reference Inspiration:** Professional maritime software (ClassNK ZETA, DNV platforms) combined with modern dashboard patterns (Linear's data clarity, Notion's form organization)\n**Core Principle:** Precision-first design that prioritizes data accuracy, calculation transparency, and professional credibility over visual flourish.\n\n## Layout System\n\n**Spacing Primitives:** Use Tailwind units of 3, 4, 6, 8, and 12 for consistent rhythm\n- Form spacing: space-y-6 for form sections, space-y-3 for field groups\n- Container padding: p-6 for cards, p-8 for main containers, p-12 for page wrapper\n- Component margins: mb-8 between major sections, mb-4 between related elements\n\n**Grid Structure:**\n- Two-column layout: 60/40 split (inputs left, preview/summary right) on desktop\n- Three-column layout for comparison tables and multi-scenario analysis\n- Single column stack on mobile with collapsible sections\n\n## Typography\n\n**Font Selection:** Inter (primary) + JetBrains Mono (numerical data/results)\n- Headings: text-2xl font-semibold for page titles, text-lg font-medium for section headers\n- Form labels: text-sm font-medium, uppercase tracking-wide for category labels\n- Body text: text-base for descriptions, text-sm for helper text\n- Numerical displays: text-3xl font-bold JetBrains Mono for primary results, text-lg for secondary metrics\n- Technical terms: text-xs uppercase tracking-wider for regulation badges (EEDI, EEXI, CII)\n\n## Component Library\n\n### Navigation & Structure\n- **Primary Navigation:** Horizontal tab bar with regulation names (EEDI | EEXI | CII | FuelEU | EU ETS | GFI | Summary)\n- **Secondary Navigation:** Vertical sidebar for ship selection and saved calculations\n- **Breadcrumb:** Show calculation flow (Ship Type > Input Data > Results)\n\n### Input Components\n- **Form Cards:** Elevated cards (shadow-md) with rounded-lg borders grouping related inputs\n- **Input Fields:** Full-width text inputs with clear labels above, helper text below, unit indicators (e.g., \"tonnes\", \"kW\") inside input on right\n- **Dropdowns:** Custom select menus for ship types, fuel types, regulation phases\n- **Number Inputs:** Stepper controls for precision values, slider + input combination for ranges\n- **Radio Groups:** Horizontal layout for binary choices (Yes/No, New Build/Existing Ship)\n- **Calculation Triggers:** Prominent \"Calculate\" buttons at section completion, disabled until required fields complete\n\n### Output Components\n- **Results Dashboard:** Card-based grid layout (2-3 columns on desktop)\n  - Primary metric cards: Large numerical value, label, compliance status indicator\n  - Breakdown tables: Detailed calculation steps with expand/collapse for formula transparency\n  - Cost summary: Itemized breakdown with subtotals and grand total\n- **Rating Display:** Large letter grade (A-E for CII) with visual scale indicator\n- **Compliance Status:** Badge system (Compliant/Non-Compliant/Warning) with explanatory text\n- **Charts:** Bar charts for year-over-year projections, line graphs for reduction trajectories\n- **Comparison Tables:** Side-by-side scenario analysis with highlighting for differences\n\n### Data Visualization\n- **Formula Breakdown:** Collapsible accordion showing calculation steps with actual values substituted\n- **Progress Indicators:** Show completion % for multi-step calculators\n- **Regulatory Timeline:** Visual timeline showing phase-in dates and reduction targets\n- **Cost Breakdown:** Stacked bar chart showing component costs (fuel, penalties, allowances)\n\n### Interactive Elements\n- **Tooltips:** Hover explanations for technical terms (EEDI, MCR, SFC, etc.)\n- **Info Panels:** Expandable sidebars with regulation context and compliance requirements\n- **Validation Feedback:** Inline error messages, success states with checkmarks\n- **Auto-save Indicators:** Subtle save status for draft calculations\n\n## Page Structure\n\n**Landing View:** Ship selector with recent calculations list\n**Calculator View (per regulation):**\n- Header: Regulation name, brief description, applicable ship types\n- Input Section: Grouped form fields with clear progression\n- Results Panel: Sticky sidebar or collapsible right panel showing live calculations\n- Action Bar: Calculate, Save, Export, Compare buttons\n\n**Summary Dashboard:**\n- Overview cards for all regulations\n- Total compliance cost prominently displayed\n- Overall compliance status matrix\n- Multi-year projection table\n- Export report functionality\n\n## Professional Enhancements\n\n- **Calculation History:** Sidebar list of saved calculations with timestamps and ship identifiers\n- **Template System:** Pre-filled forms for common ship types with industry-standard values\n- **Regulatory Updates Banner:** Dismissible alerts for new regulation changes\n- **Comparison Mode:** Toggle to compare 2-4 scenarios side-by-side\n- **PDF Export Preview:** Generated report preview before download\n- **Formula Reference:** Modal overlays showing IMO/EU regulation formulas with citations\n\n## Layout Patterns\n\n- Use max-w-7xl for main content container\n- Input forms: max-w-2xl for optimal readability\n- Results tables: Full-width with horizontal scroll on mobile\n- Sticky positioning for calculator action buttons when scrolling long forms\n- Fixed header with regulation navigation for easy switching","size_bytes":5438},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/components/examples/ThemeToggle.tsx":{"content":"import { ThemeToggle } from '../ThemeToggle'\n\nexport default function ThemeToggleExample() {\n  return <ThemeToggle />\n}\n","size_bytes":120},"client/src/components/examples/CIICalculator.tsx":{"content":"import { CIICalculator } from '../CIICalculator'\n\nexport default function CIICalculatorExample() {\n  return (\n    <div className=\"max-w-4xl\">\n      <CIICalculator shipType=\"Bulk Carrier\" />\n    </div>\n  )\n}\n","size_bytes":207},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/OptimizationPanel.tsx":{"content":"import { useState } from \"react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Lock, Unlock, Sparkles, Target, TrendingUp, CheckCircle2 } from \"lucide-react\";\nimport {\n  optimizeParameters,\n  type OptimizationParameters,\n  type OptimizationTarget,\n  type OptimizationConstraints,\n  type OptimizationResult,\n} from \"@/lib/calculations\";\n\ninterface OptimizationPanelProps {\n  shipType: string;\n  shipCapacity: number;\n  year: number;\n  currentParameters: OptimizationParameters;\n  onApply?: (parameters: OptimizationParameters) => void;\n}\n\nexport function OptimizationPanel({\n  shipType,\n  shipCapacity,\n  year,\n  currentParameters,\n  onApply,\n}: OptimizationPanelProps) {\n  const [target, setTarget] = useState<OptimizationTarget>({ type: 'cii_rating', value: 'A' });\n  const [parameters, setParameters] = useState<OptimizationParameters>(currentParameters);\n  const [optimizedParameters, setOptimizedParameters] = useState<OptimizationParameters | null>(null);\n  const [fixedParams, setFixedParams] = useState<Set<keyof OptimizationParameters>>(new Set());\n  const [isOptimizing, setIsOptimizing] = useState(false);\n  const [result, setResult] = useState<OptimizationResult | null>(null);\n\n  const toggleFixed = (param: keyof OptimizationParameters) => {\n    const newFixed = new Set(fixedParams);\n    if (newFixed.has(param)) {\n      newFixed.delete(param);\n    } else {\n      newFixed.add(param);\n    }\n    setFixedParams(newFixed);\n  };\n\n  const handleOptimize = () => {\n    setIsOptimizing(true);\n    setTimeout(() => {\n      const hoursAtSea = parameters.daysAtSea * 24;\n      const hoursInPort = parameters.daysInPort * 24;\n      \n      const totalEnergyUsed = \n        (parameters.mainEnginePower * 0.75 * hoursAtSea + \n         parameters.auxiliaryPower * 0.5 * hoursAtSea +\n         parameters.auxiliaryPower * 0.3 * hoursInPort) * 3.6;\n      \n      const fuelConsumption = \n        (parameters.mainEnginePower * 0.75 * hoursAtSea * (parameters.fuelType === \"HFO\" ? 175 : 185) +\n         parameters.auxiliaryPower * 0.5 * hoursAtSea * 220 +\n         parameters.auxiliaryPower * 0.3 * hoursInPort * 220) / 1000000;\n      \n      const cfFactor = parameters.fuelType === \"HFO\" ? 3.114 : \n                       parameters.fuelType === \"LNG\" ? 2.750 :\n                       parameters.fuelType === \"Methanol\" ? 1.375 :\n                       parameters.fuelType === \"Ammonia\" ? 0 : 3.206;\n      \n      const ghgEmissions = fuelConsumption * cfFactor * 1000000000;\n      \n      const constraints: OptimizationConstraints = {\n        fixedParams,\n        shipType,\n        shipCapacity,\n        year,\n        totalEnergyUsed,\n        ghgEmissions,\n      };\n      \n      const optimizationResult = optimizeParameters(parameters, target, constraints);\n      setOptimizedParameters(optimizationResult.parameters);\n      setResult(optimizationResult);\n      setIsOptimizing(false);\n    }, 100);\n  };\n\n  const handleApply = () => {\n    if (optimizedParameters && onApply) {\n      onApply(optimizedParameters);\n      setParameters(optimizedParameters);\n      setOptimizedParameters(null);\n      setResult(null);\n    }\n  };\n\n  const parameterConfigs: Array<{\n    key: keyof OptimizationParameters;\n    label: string;\n    min: number;\n    max: number;\n    step: number;\n    unit: string;\n    format: (v: number) => string;\n  }> = [\n    {\n      key: 'annualFuelConsumption',\n      label: 'Annual Fuel Consumption',\n      min: 1000,\n      max: 20000,\n      step: 50,\n      unit: 'MT',\n      format: (v) => v.toLocaleString(),\n    },\n    {\n      key: 'distanceTraveled',\n      label: 'Distance Traveled',\n      min: 20000,\n      max: 150000,\n      step: 500,\n      unit: 'NM',\n      format: (v) => v.toLocaleString(),\n    },\n    {\n      key: 'mainEnginePower',\n      label: 'Main Engine Power',\n      min: 2000,\n      max: 20000,\n      step: 250,\n      unit: 'kW',\n      format: (v) => v.toLocaleString(),\n    },\n    {\n      key: 'auxiliaryPower',\n      label: 'Auxiliary Power',\n      min: 200,\n      max: 1500,\n      step: 25,\n      unit: 'kW',\n      format: (v) => v.toLocaleString(),\n    },\n    {\n      key: 'daysAtSea',\n      label: 'Days at Sea',\n      min: 200,\n      max: 350,\n      step: 2,\n      unit: 'days',\n      format: (v) => v.toString(),\n    },\n    {\n      key: 'daysInPort',\n      label: 'Days in Port',\n      min: 0,\n      max: 100,\n      step: 2,\n      unit: 'days',\n      format: (v) => v.toString(),\n    },\n    {\n      key: 'fuelPrice',\n      label: 'Fuel Price',\n      min: 400,\n      max: 800,\n      step: 5,\n      unit: '$/MT',\n      format: (v) => `$${v}`,\n    },\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <Card data-testid=\"card-optimization-panel\">\n        <CardHeader>\n          <div className=\"flex items-center justify-between gap-3 flex-wrap\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 bg-primary/10 rounded-lg\">\n                <Target className=\"h-5 w-5 text-primary\" />\n              </div>\n              <div>\n                <CardTitle>Auto-Optimization</CardTitle>\n                <CardDescription>\n                  Set target values and optimize parameters automatically\n                </CardDescription>\n              </div>\n            </div>\n            <Badge variant=\"secondary\" className=\"text-xs uppercase\">\n              AI-Powered\n            </Badge>\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <div className=\"space-y-3\">\n            <Label>Optimization Target</Label>\n            <Select\n              value={`${target.type}:${target.value || 'A'}`}\n              onValueChange={(value) => {\n                const [type, val] = value.split(':');\n                setTarget({ type: type as any, value: val });\n              }}\n            >\n              <SelectTrigger data-testid=\"select-optimization-target\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"cii_rating:A\">Achieve CII Rating A</SelectItem>\n                <SelectItem value=\"cii_rating:B\">Achieve CII Rating B</SelectItem>\n                <SelectItem value=\"cii_rating:C\">Achieve CII Rating C</SelectItem>\n                <SelectItem value=\"minimize_costs:\">Minimize Total Costs</SelectItem>\n                <SelectItem value=\"imo_gfi_surplus:\">IMO GFI Surplus</SelectItem>\n                <SelectItem value=\"zero_fueleu:\">Zero FuelEU Penalty</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <Label className=\"text-base font-semibold\">Adjustable Parameters</Label>\n              <div className=\"text-sm text-muted-foreground\">\n                Click lock icon to fix values\n              </div>\n            </div>\n            {parameterConfigs.map((config) => {\n              const isFixed = fixedParams.has(config.key);\n              const currentValue = parameters[config.key] as number;\n              const optimizedValue = optimizedParameters?.[config.key] as number;\n              const hasChange = optimizedValue !== undefined && optimizedValue !== currentValue;\n\n              return (\n                <div key={config.key} className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between gap-3\">\n                    <div className=\"flex items-center gap-2 min-w-0 flex-1\">\n                      <Button\n                        type=\"button\"\n                        size=\"icon\"\n                        variant={isFixed ? \"default\" : \"ghost\"}\n                        className=\"h-8 w-8 shrink-0\"\n                        onClick={() => toggleFixed(config.key)}\n                        data-testid={`button-fix-${config.key}`}\n                      >\n                        {isFixed ? <Lock className=\"h-4 w-4\" /> : <Unlock className=\"h-4 w-4\" />}\n                      </Button>\n                      <Label className=\"text-sm truncate\">{config.label}</Label>\n                    </div>\n                    <div className=\"flex items-center gap-3 shrink-0\">\n                      <div className=\"text-right\">\n                        <div className=\"text-sm text-muted-foreground\">Current</div>\n                        <div className=\"text-sm font-mono font-semibold\" data-testid={`text-current-${config.key}`}>\n                          {config.format(currentValue)} {config.unit}\n                        </div>\n                      </div>\n                      {hasChange && (\n                        <>\n                          <TrendingUp className=\"h-4 w-4 text-primary\" />\n                          <div className=\"text-right\">\n                            <div className=\"text-sm text-muted-foreground\">Optimized</div>\n                            <div className=\"text-sm font-mono font-semibold text-primary\" data-testid={`text-optimized-${config.key}`}>\n                              {config.format(optimizedValue)} {config.unit}\n                            </div>\n                          </div>\n                        </>\n                      )}\n                    </div>\n                  </div>\n                  <Slider\n                    value={[hasChange ? optimizedValue : currentValue]}\n                    min={config.min}\n                    max={config.max}\n                    step={config.step}\n                    disabled={isFixed}\n                    onValueChange={([value]) => {\n                      setParameters({ ...parameters, [config.key]: value });\n                      if (optimizedParameters) {\n                        setOptimizedParameters(null);\n                        setResult(null);\n                      }\n                    }}\n                    className={hasChange ? \"accent-primary\" : \"\"}\n                    data-testid={`slider-${config.key}`}\n                  />\n                </div>\n              );\n            })}\n          </div>\n\n          <div className=\"flex gap-3\">\n            <Button\n              onClick={handleOptimize}\n              disabled={isOptimizing}\n              className=\"flex-1\"\n              data-testid=\"button-optimize\"\n            >\n              <Sparkles className=\"h-4 w-4 mr-2\" />\n              {isOptimizing ? 'Optimizing...' : 'Auto-Optimize'}\n            </Button>\n            {optimizedParameters && (\n              <Button\n                onClick={handleApply}\n                variant=\"default\"\n                className=\"flex-1\"\n                data-testid=\"button-apply\"\n              >\n                <CheckCircle2 className=\"h-4 w-4 mr-2\" />\n                Apply to Calculators\n              </Button>\n            )}\n          </div>\n\n          {result && (\n            <Card className=\"bg-primary/5 border-primary/20\">\n              <CardContent className=\"pt-6\">\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <CheckCircle2 className=\"h-5 w-5 text-primary\" />\n                    <span className=\"font-semibold\">Optimization Complete</span>\n                  </div>\n                  <div className=\"text-sm text-muted-foreground\">\n                    Completed in {result.iterations} iterations\n                  </div>\n                  {result.improvements.ciiRating && (\n                    <div className=\"flex items-center justify-between pt-2\">\n                      <span className=\"text-sm\">CII Rating:</span>\n                      <Badge variant={result.improvements.ciiRating === 'A' ? 'default' : 'secondary'}>\n                        {result.improvements.ciiRating}\n                      </Badge>\n                    </div>\n                  )}\n                  {result.improvements.totalCosts !== undefined && (\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-sm\">Total Costs:</span>\n                      <span className=\"text-sm font-mono font-semibold\">\n                        ${result.improvements.totalCosts.toLocaleString()}\n                      </span>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":12658},"client/src/pages/Fleet.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Link } from \"wouter\";\nimport { Plus, Calculator, Trash2 } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { AddVesselDialog } from \"@/components/AddVesselDialog\";\nimport { ThemeToggle } from \"@/components/ThemeToggle\";\nimport type { FleetVessel } from \"@shared/schema\";\nimport { nanoid } from \"nanoid\";\n\nconst DEFAULT_VESSELS: FleetVessel[] = [\n  {\n    id: \"1\",\n    vesselName: \"Bulk carrier 1\",\n    type: undefined,\n    dwt: undefined,\n    buildYear: undefined,\n    eexi: 3.6,\n    ciiRating: \"E\",\n    ciiValue: 4.6,\n    fuelEUStatus: undefined,\n    euETSCost: undefined,\n  },\n  {\n    id: \"2\",\n    vesselName: \"Bulk carrier 2\",\n    type: undefined,\n    dwt: undefined,\n    buildYear: undefined,\n    eexi: 3.6,\n    ciiRating: \"D\",\n    ciiValue: 4.2,\n    fuelEUStatus: undefined,\n    euETSCost: undefined,\n  },\n  {\n    id: \"3\",\n    vesselName: \"Container 1\",\n    type: undefined,\n    dwt: undefined,\n    buildYear: undefined,\n    eexi: 25,\n    ciiRating: \"C\",\n    ciiValue: 20.4,\n    fuelEUStatus: undefined,\n    euETSCost: undefined,\n  },\n  {\n    id: \"4\",\n    vesselName: \"Container 2\",\n    type: undefined,\n    dwt: undefined,\n    buildYear: undefined,\n    eexi: 25,\n    ciiRating: \"C\",\n    ciiValue: 20,\n    fuelEUStatus: undefined,\n    euETSCost: undefined,\n  },\n  {\n    id: \"5\",\n    vesselName: \"Container 3\",\n    type: undefined,\n    dwt: undefined,\n    buildYear: undefined,\n    eexi: 17.51,\n    ciiRating: \"A\",\n    ciiValue: 11.9,\n    fuelEUStatus: undefined,\n    euETSCost: undefined,\n  },\n];\n\nconst STORAGE_KEY = \"fleet_vessels\";\n\nfunction loadVesselsFromStorage(): FleetVessel[] {\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (stored) {\n      return JSON.parse(stored);\n    }\n  } catch (error) {\n    console.error(\"Failed to load fleet vessels from storage:\", error);\n  }\n  return DEFAULT_VESSELS;\n}\n\nfunction saveVesselsToStorage(vessels: FleetVessel[]): void {\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(vessels));\n  } catch (error) {\n    console.error(\"Failed to save fleet vessels to storage:\", error);\n  }\n}\n\nexport default function Fleet() {\n  const [vessels, setVessels] = useState<FleetVessel[]>(loadVesselsFromStorage);\n  const [isAddDialogOpen, setIsAddDialogOpen] = useState(false);\n\n  useEffect(() => {\n    saveVesselsToStorage(vessels);\n  }, [vessels]);\n\n  const handleAddVessel = (vessel: Omit<FleetVessel, \"id\">) => {\n    const newVessel: FleetVessel = {\n      ...vessel,\n      id: nanoid(),\n    };\n    setVessels([...vessels, newVessel]);\n    setIsAddDialogOpen(false);\n  };\n\n  const handleDeleteVessel = (id: string) => {\n    if (confirm(\"Are you sure you want to delete this vessel?\")) {\n      setVessels(vessels.filter((v) => v.id !== id));\n    }\n  };\n\n  const getCIIBadgeColor = (rating?: string) => {\n    switch (rating) {\n      case \"A\":\n        return \"bg-green-500 text-white border-transparent hover:bg-green-600\";\n      case \"B\":\n        return \"bg-orange-400 text-white border-transparent hover:bg-orange-500\";\n      case \"C\":\n        return \"bg-yellow-500 text-white border-transparent hover:bg-yellow-600\";\n      case \"D\":\n        return \"bg-orange-500 text-white border-transparent hover:bg-orange-600\";\n      case \"E\":\n        return \"bg-red-500 text-white border-transparent hover:bg-red-600\";\n      default:\n        return \"\";\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <header className=\"border-b\">\n        <div className=\"container mx-auto px-4 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex items-center gap-2\">\n              <svg className=\"h-8 w-8 text-primary\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n              </svg>\n              <h1 className=\"text-xl font-semibold\">Maritime Emissions Calculator</h1>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <Link href=\"/\">\n              <Button variant=\"outline\" data-testid=\"button-calculator-nav\">\n                <Calculator className=\"h-4 w-4\" />\n                Calculator\n              </Button>\n            </Link>\n            <ThemeToggle />\n          </div>\n        </div>\n      </header>\n\n      <main className=\"container mx-auto px-4 py-8\">\n        <div className=\"mb-6 flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-3xl font-bold\">Fleet Details</h2>\n            <p className=\"text-muted-foreground mt-1\">Manage and monitor your fleet vessels</p>\n          </div>\n          <Button onClick={() => setIsAddDialogOpen(true)} data-testid=\"button-add-vessel\">\n            <Plus className=\"h-4 w-4\" />\n            Add Vessel\n          </Button>\n        </div>\n\n        <Card>\n          <div className=\"overflow-x-auto\">\n            <Table>\n              <TableHeader>\n                <TableRow className=\"bg-[#5B7C99] hover:bg-[#5B7C99] dark:bg-[#4A6580] dark:hover:bg-[#4A6580]\">\n                  <TableHead className=\"text-white font-semibold dark:text-white\">Vessel name</TableHead>\n                  <TableHead className=\"text-white font-semibold dark:text-white\">Type</TableHead>\n                  <TableHead className=\"text-white font-semibold dark:text-white\">DWT</TableHead>\n                  <TableHead className=\"text-white font-semibold dark:text-white\">Build Year</TableHead>\n                  <TableHead className=\"text-white font-semibold dark:text-white\">EEXI</TableHead>\n                  <TableHead className=\"text-white font-semibold dark:text-white\">CII Rating</TableHead>\n                  <TableHead className=\"text-white font-semibold dark:text-white\">CII Value</TableHead>\n                  <TableHead className=\"text-white font-semibold dark:text-white\">FuelEU Status</TableHead>\n                  <TableHead className=\"text-white font-semibold dark:text-white\">EU ETS Cost</TableHead>\n                  <TableHead className=\"text-white font-semibold dark:text-white\">Actions</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {vessels.length === 0 ? (\n                  <TableRow>\n                    <TableCell colSpan={10} className=\"text-center py-8 text-muted-foreground\">\n                      No vessels added yet. Click \"Add Vessel\" to get started.\n                    </TableCell>\n                  </TableRow>\n                ) : (\n                  vessels.map((vessel) => (\n                    <TableRow key={vessel.id} data-testid={`vessel-row-${vessel.id}`}>\n                      <TableCell className=\"font-medium\" data-testid={`vessel-name-${vessel.id}`}>\n                        {vessel.vesselName}\n                      </TableCell>\n                      <TableCell>{vessel.type || \"N/A\"}</TableCell>\n                      <TableCell>{vessel.dwt || \"N/A\"}</TableCell>\n                      <TableCell>{vessel.buildYear || \"N/A\"}</TableCell>\n                      <TableCell>{vessel.eexi || \"N/A\"}</TableCell>\n                      <TableCell>\n                        {vessel.ciiRating ? (\n                          <Badge\n                            className={getCIIBadgeColor(vessel.ciiRating)}\n                            data-testid={`cii-badge-${vessel.id}`}\n                          >\n                            {vessel.ciiRating}\n                          </Badge>\n                        ) : (\n                          \"N/A\"\n                        )}\n                      </TableCell>\n                      <TableCell>{vessel.ciiValue || \"N/A\"}</TableCell>\n                      <TableCell>{vessel.fuelEUStatus || \"N/A\"}</TableCell>\n                      <TableCell>{vessel.euETSCost || \"N/A\"}</TableCell>\n                      <TableCell>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          onClick={() => handleDeleteVessel(vessel.id)}\n                          data-testid={`button-delete-${vessel.id}`}\n                        >\n                          <Trash2 className=\"h-4 w-4 text-destructive\" />\n                        </Button>\n                      </TableCell>\n                    </TableRow>\n                  ))\n                )}\n              </TableBody>\n            </Table>\n          </div>\n        </Card>\n      </main>\n\n      <AddVesselDialog\n        open={isAddDialogOpen}\n        onOpenChange={setIsAddDialogOpen}\n        onAdd={handleAddVessel}\n      />\n    </div>\n  );\n}\n","size_bytes":8935},"client/src/components/AddVesselDialog.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { shipTypes, type FleetVessel } from \"@shared/schema\";\n\nconst addVesselSchema = z.object({\n  vesselName: z.string().min(1, \"Vessel name is required\"),\n  type: z.string().optional(),\n  dwt: z.string().optional(),\n  buildYear: z.string().optional(),\n  eexi: z.string().optional(),\n  ciiRating: z.enum([\"A\", \"B\", \"C\", \"D\", \"E\", \"\"]).optional(),\n  ciiValue: z.string().optional(),\n  fuelEUStatus: z.string().optional(),\n  euETSCost: z.string().optional(),\n});\n\ntype AddVesselFormData = z.infer<typeof addVesselSchema>;\n\ninterface AddVesselDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onAdd: (vessel: Omit<FleetVessel, \"id\">) => void;\n}\n\nexport function AddVesselDialog({ open, onOpenChange, onAdd }: AddVesselDialogProps) {\n  const form = useForm<AddVesselFormData>({\n    resolver: zodResolver(addVesselSchema),\n    defaultValues: {\n      vesselName: \"\",\n      type: \"\",\n      dwt: \"\",\n      buildYear: \"\",\n      eexi: \"\",\n      ciiRating: \"\",\n      ciiValue: \"\",\n      fuelEUStatus: \"\",\n      euETSCost: \"\",\n    },\n  });\n\n  const onSubmit = (data: AddVesselFormData) => {\n    const vessel: Omit<FleetVessel, \"id\"> = {\n      vesselName: data.vesselName,\n      type: data.type && data.type !== \"\" ? (data.type as any) : undefined,\n      dwt: data.dwt ? parseFloat(data.dwt) : undefined,\n      buildYear: data.buildYear ? parseInt(data.buildYear) : undefined,\n      eexi: data.eexi ? parseFloat(data.eexi) : undefined,\n      ciiRating: data.ciiRating && [\"A\", \"B\", \"C\", \"D\", \"E\"].includes(data.ciiRating) ? (data.ciiRating as any) : undefined,\n      ciiValue: data.ciiValue ? parseFloat(data.ciiValue) : undefined,\n      fuelEUStatus: data.fuelEUStatus || undefined,\n      euETSCost: data.euETSCost ? parseFloat(data.euETSCost) : undefined,\n    };\n    onAdd(vessel);\n    form.reset();\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\" data-testid=\"dialog-add-vessel\">\n        <DialogHeader>\n          <DialogTitle>Add Fleet Vessel</DialogTitle>\n          <DialogDescription>\n            Add a new vessel to your fleet. Fill in the available information.\n          </DialogDescription>\n        </DialogHeader>\n\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <FormField\n                control={form.control}\n                name=\"vesselName\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Vessel Name *</FormLabel>\n                    <FormControl>\n                      <Input placeholder=\"Enter vessel name\" data-testid=\"input-vessel-name\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"type\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Type</FormLabel>\n                    <Select onValueChange={field.onChange} value={field.value}>\n                      <FormControl>\n                        <SelectTrigger data-testid=\"select-vessel-type\">\n                          <SelectValue placeholder=\"Select type\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent>\n                        {shipTypes.map((type) => (\n                          <SelectItem key={type} value={type}>\n                            {type}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"dwt\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>DWT</FormLabel>\n                    <FormControl>\n                      <Input type=\"number\" placeholder=\"Deadweight tonnage\" data-testid=\"input-dwt\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"buildYear\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Build Year</FormLabel>\n                    <FormControl>\n                      <Input type=\"number\" placeholder=\"Year built\" data-testid=\"input-build-year\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"eexi\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>EEXI</FormLabel>\n                    <FormControl>\n                      <Input type=\"number\" step=\"0.01\" placeholder=\"EEXI value\" data-testid=\"input-eexi\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"ciiRating\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>CII Rating</FormLabel>\n                    <Select onValueChange={field.onChange} value={field.value}>\n                      <FormControl>\n                        <SelectTrigger data-testid=\"select-cii-rating\">\n                          <SelectValue placeholder=\"Select rating\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent>\n                        <SelectItem value=\"A\">A</SelectItem>\n                        <SelectItem value=\"B\">B</SelectItem>\n                        <SelectItem value=\"C\">C</SelectItem>\n                        <SelectItem value=\"D\">D</SelectItem>\n                        <SelectItem value=\"E\">E</SelectItem>\n                      </SelectContent>\n                    </Select>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"ciiValue\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>CII Value</FormLabel>\n                    <FormControl>\n                      <Input type=\"number\" step=\"0.1\" placeholder=\"CII value\" data-testid=\"input-cii-value\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"fuelEUStatus\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>FuelEU Status</FormLabel>\n                    <FormControl>\n                      <Input placeholder=\"FuelEU status\" data-testid=\"input-fueleu-status\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"euETSCost\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>EU ETS Cost</FormLabel>\n                    <FormControl>\n                      <Input type=\"number\" step=\"0.01\" placeholder=\"EU ETS cost\" data-testid=\"input-eu-ets-cost\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </div>\n\n            <div className=\"flex justify-end gap-3 pt-4\">\n              <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)} data-testid=\"button-cancel\">\n                Cancel\n              </Button>\n              <Button type=\"submit\" data-testid=\"button-submit-vessel\">\n                Add Vessel\n              </Button>\n            </div>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","size_bytes":9024}},"version":2}